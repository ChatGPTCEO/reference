<view class="container"><scroll-view class="chat-main" scroll-y="{{true}}" scroll-with-animation="{{true}}" enable-back-to-top="{{true}}" show-scrollbar="{{false}}"><block wx:for="{{messages}}" wx:for-item="item" wx:for-index="index" wx:key="id"><view class="{{['chat-wrap',index===0?'chat-first-wrap':'']}}" id="{{'message_'+item.id}}"><block wx:if="{{item.message_type!==1}}"><view class="{{[item.is_owner?'chat-mine':'chat-friend']}}"><view class="{{['chat-message-avatar',item.is_owner?'chat-mine-message-avatar':'']}}"><image class="chat-message-avatar-image" src="{{item.is_owner?user_info.avatar:friend_info.avatar}}"></image></view><view class="{{['chat-message-text-wrap',item.is_owner?'chat-mine-message-text-wrap':'']}}"><view class="chat-message-name"><text class="chat-message-name-text">{{item.is_owner?user_info.nickname:friend_info.nickname}}</text></view><view class="{{['chat-message-content',item.is_owner?'chat-mine-message-content':'']}}"><text class="{{['chat-message-content-text',item.is_owner?'chat-mine-message-content-text':'']}}">{{item.content}}</text><view class="{{[item.is_owner?'chat-mine-message-content-text-bubble':'chat-message-content-text-bubble']}}"></view></view></view></view></block></view></block></scroll-view><view class="chat-footer"><view class="chat-send-wrap"><input class="chat-send-input" type="text" confirm-type="send" confirm-hold="{{true}}" cursor-spacing="{{56}}" hold-keyboard="{{true}}" adjust-position="{{false}}" data-event-opts="{{[['confirm',[['send',['$event']]]],['input',[['__set_model',['','message','$event',[]]]]]]}}" value="{{message}}" bindconfirm="__e" bindinput="__e"/><view class="chat-tool-icons"><image class="chat-tool-icon" src="/static/nvue/emoji.png"></image><image class="chat-tool-icon" src="/static/nvue/plus.png"></image></view></view></view></view>