<view><cu-custom vue-id="9caff456-1" isBack="{{true}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">{{data.title}}</view></cu-custom><view class="bg-white nav"><view class="flex text-center"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{['cu-item','flex-sub',curview=='dialog'?'cur text-'+theme.actcolor:'']}}" bindtap="__e">最近</view><view data-event-opts="{{[['tap',[['viewfriend']]]]}}" class="{{['cu-item','flex-sub',curview=='friend'?'cur text-'+theme.actcolor:'']}}" bindtap="__e">联系人</view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="{{['cu-item','flex-sub',curview=='group'?'cur text-'+theme.actcolor:'']}}" bindtap="__e">群聊</view></view></view><view class="listcontent indexes solid-top"><view class="{{[curview=='dialog'?'':'hidden']}}"><block wx:if="{{data.dialogs.length==0}}"><view class="text-empty"><block wx:if="{{data.inited}}"><text>{{text.text_empty}}</text></block><block wx:else><text class="cu-load load-cuIcon loading">聊天会话加载中...</text></block></view></block><block wx:else><view class="cu-list menu-avatar no-padding"><block wx:for="{{data.dialogs}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['doShare',['$0','$1','$2','$3'],[[['data.dialogs','',index,'cid']],[['data.dialogs','',index,'type']],[['data.dialogs','',index,'title']],[['data.dialogs','',index,'avatar']]]]]]]}}" class="cu-item" bindtap="__e"><view class="cu-avatar round" style="{{('background-image:url('+item.avatar+');')}}"><block wx:if="{{item.type=='group'}}"><view class="{{['cu-tag','badge','cuIcon-group','bg-'+theme.actcolor]}}"></view></block></view><view class="content"><view><view class="text-cut text-lg">{{item.title}}</view></view></view></view></block></view></block></view><view class="{{[curview=='friend'?'':'hidden']}}"><block wx:if="{{data.friends.length==0}}"><view class="text-empty"><block wx:if="{{data.inited}}"><text>{{text.text_empty}}</text></block><block wx:else><text class="cu-load load-cuIcon loading">好友加载中...</text></block></view></block><block wx:else><view><scroll-view class="indexes" style="{{'height:'+('calc(100vh - '+CustomBar+'px - 50px)')+';'}}" scroll-y="{{true}}" scroll-into-view="{{'indexes-'+indexes.listCurID}}" scroll-with-animation="{{true}}" enable-back-to-top="{{true}}"><block wx:for="{{data.friends}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="{{['indexItem-'+item.letter]}}" id="{{'indexes-'+item.letter}}" data-index="{{item.letter}}"><view class="padding-sm">{{item.letter}}</view><view class="cu-list menu-avatar no-padding"><block wx:for="{{item.list}}" wx:for-item="value" wx:for-index="key" wx:key="key"><view data-event-opts="{{[['tap',[['doShare',['$0','normal','$1','$2'],[[['data.friends','',index],['list','',key,'fuid']],[['data.friends','',index],['list','',key,'remark']],[['data.friends','',index],['list','',key,'avatar']]]]]]]}}" class="cu-item" bindtap="__e"><view class="cu-avatar round" style="{{('background-image:url('+value.avatar+');')}}"></view><view class="content"><view><view class="text-cut text-lg">{{value.remark}}</view></view></view></view></block></view></view></block></block></scroll-view><view class="indexBar" style="{{'height:'+('calc(100vh - '+indexes.CustomBar+'px - 165px)')+';'}}"><view data-event-opts="{{[['touchstart',[['tStart',['$event']]]],['touchend',[['tEnd',['$event']]]],['touchmove',[['tMove',['$event']]]]]}}" class="indexBar-box" bindtouchstart="__e" bindtouchend="__e" catchtouchmove="__e"><block wx:for="{{data.friends}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="indexBar-item" id="{{index}}" data-event-opts="{{[['touchstart',[['getCur',['$event']]]],['touchend',[['setCur',['$event']]]]]}}" bindtouchstart="__e" bindtouchend="__e">{{''+item.letter}}</view></block></view></view><view hidden="{{!(!hidden)}}" class="indexToast">{{''+indexes.listCur+''}}</view></view></block></view><view class="{{[curview=='group'?'':'hidden']}}"><block wx:if="{{data.groups.length==0}}"><view class="text-empty"><block wx:if="{{data.inited}}"><text>{{text.text_empty}}</text></block><block wx:else><text class="cu-load load-cuIcon loading">群组正在加载中...</text></block></view></block><block wx:else><view class="cu-list menu-avatar no-padding"><block wx:for="{{data.groups}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['doShare',['$0','group','$1','$2'],[[['data.groups','',index,'id']],[['data.groups','',index,'name']],[['data.groups','',index,'pic']]]]]]]}}" class="cu-item" bindtap="__e"><view class="cu-avatar round" style="{{('background-image:url('+item.pic+');')}}"></view><view class="content"><view><view class="text-cut text-lg">{{item.name}}</view></view></view></view></block></view></block></view></view></view>