{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?caf2","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?f4b8","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?a7bb","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?b649","uni-app:///pages/album/index.vue","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?c0f8","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/album/index.vue?f423"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/album/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/album/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7a15b449&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/album/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7a15b449&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !(_vm.data.albums.length == 0)\n    ? _vm.__map(_vm.data.albums, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var g0 = item.vid > 0 ? _vm.posters.hasOwnProperty(index) : null\n        return {\n          $orig: $orig,\n          g0: g0\n        }\n      })\n    : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showmodal = \"actionsheet\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showmodal = \"\"\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"status_bar\" :class=\"theme.navbg\" v-if=\"pagescroll>=headheight\"></view>\r\n\t\t<view class=\"head\">\r\n\t\t\t<view class=\"albumbg\" @click=\"showmodal='actionsheet'\" v-if=\"data.member.uid==userId\">\r\n\t\t\t\t<image mode=\"widthFix\" :src=\"data.albumbgurl\" class=\"poster\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"albumbg\" @click=\"doPreviewImage(data.albumbgurl,-1)\" v-else>\r\n\t\t\t\t<image mode=\"widthFix\" :src=\"data.albumbgurl\" class=\"poster\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-bar fixed\" :class=\"pagescroll<headheight?'topbar':theme.navbg\">\r\n\t\t\t\t<view class=\"action\" @click=\"doBack()\">\r\n\t\t\t\t\t<text class=\"cuIcon-back\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">{{data.title}}</view>\r\n\t\t\t\t<view class=\"action\" v-if=\"data.allowpost\" @click=\"naviTo('album/post'+(data.member.uid==userId?'?forward=back':''))\">\r\n\t\t\t\t\t<text class=\"cuIcon-cameraadd\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"userbar flex justify-end padding\" @click=\"naviTo('member/index',{uid:data.member.uid})\">\r\n\t\t\t\t<view class=\"padding-top-sm\">\r\n\t\t\t\t\t<text class=\"text-shadow text-lg text-bold text-white\">{{data.member.nickname}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-left-sm\">\r\n\t\t\t\t\t<view class=\"cu-avatar lg radius\" :style=\"'background-image:url('+data.member.avatar+')'\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-bar search bg-white\" @click=\"naviTo('album/post')\" v-if=\"data.allowpost\">\r\n\t\t\t<view class=\"cu-avatar round\" :style=\"'background-image:url('+myavatar+')'\"></view>\r\n\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t<text class=\"text-gray margin-left-sm\">今日风和日丽，来说点什么吧~</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-x class=\"bg-white nav solid-top\" scroll-with-animation v-if=\"data.tags.length>0\">\r\n\t\t\t<view class=\"cu-item\" :class=\"viewtag==''?'cur text-'+theme.actcolor:''\" @click=\"doTaptag('')\">全部</view>\r\n\t\t\t<view class=\"cu-item\" :class=\"viewtag==tag?'cur text-'+theme.actcolor:''\" v-for=\"(tag,index) in data.tags\" :key=\"index\" @click=\"doTaptag(tag)\">\r\n\t\t\t\t{{tag}}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view>\r\n\t\t\t<view class=\"text-empty\" v-if=\"data.albums.length==0\">\r\n\t\t\t\t<text>空空如也</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<view class=\"cu-card dynamic\">\r\n\t\t\t\t\t<block v-for=\"(item, index) in data.albums\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"cu-item shadow\" @click=\"naviTo('album/detail',{aid:item.id})\">\r\n\t\t\t\t\t\t\t<view class=\"cu-list menu-avatar\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar round lg\" @tap.stop=\"naviTo('member/index',{uid:item.uid})\" :style=\"'background-image:url('+item.avatar+');'\"></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"content flex-sub\">\r\n\t\t\t\t\t\t\t\t\t\t<view>{{item.nickname}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-sm flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-gray\">{{item.datetime}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-orange\" v-if=\"item.status==0\">审核中</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text-content richtext margin-top-sm\" v-if=\"item.content!=''\" @tap.stop=\"naviTo(item.url)\">\r\n\t\t\t\t\t\t\t\t<rich-text :nodes=\"item.content+''\"></rich-text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view @tap.stop=\"naviTo('player/index',{vid:item.vid})\" class=\"chat-video padding-lr margin-top-sm\" v-if=\"item.vid>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"bg-img only-img bg-video\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.poster+(posters.hasOwnProperty(index)?'?reload='+posters[index]:'')\" mode=\"widthFix\" @error=\"posterReload(index,item.poster)\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"grid flex-sub padding-lr margin-top-sm\" :class=\"item.extraclass\" v-if=\"item.pics.length>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"bg-img\" @tap.stop=\"doPreviewImage(pic,index)\" :class=\"item.pics.length==1?'onlyimg':''\" v-for=\"(pic,key) in item.pics\" :key=\"key\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text-gray text-lg flex justify-end padding\">\r\n\t\t\t\t\t\t\t\t<view @tap.stop=\"doPraise(item.id,index)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-appreciatefill margin-lr-xs\" :class=\"item.praised?'text-'+theme.actcolor:''\"></text> {{item.praise}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-messagefill margin-lr-xs\"></text> {{item.comment}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cu-list menu-avatar comment solid-top\" v-if=\"item.comments.id>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-item noaf\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar round\" @tap.stop=\"naviTo('member/index',{uid:item.comments.uid})\" :style=\"'background-image:url('+item.comments.avatar+');'\"></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-grey\">{{item.comments.nickname}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-content text-df\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.comments.content}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"margin-top-sm flex justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"text-gray text-df\">{{item.comments.datetime}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-appreciatefill\" :class=\"item.comments.praised?'text-'+theme.actcolor:'text-gray'\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-messagefill text-gray margin-left-sm\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"padding-bottom-sm text-center\" v-if=\"item.comment>1\">\r\n\t\t\t\t\t\t\t\t<text :style=\"'color: '+theme.link\">查看更多{{item.comment}}条评论</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"!loadmore\" class=\"padding-xl text-center text-gray\">\r\n\t\t\t\t\t<text>没有更多了~</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-modal bottom-modal\" v-if=\"data.member.uid==userId\" :class=\"showmodal=='actionsheet'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"padding\">\r\n\t\t\t\t\t<view class=\"flex flex-direction\">\r\n\t\t\t\t\t\t<button @click=\"doChangeBg()\" class=\"cu-btn bg-green lg\">更换背景图</button>\r\n\t\t\t\t\t\t<button @click=\"showmodal=''\" class=\"cu-btn bg-grey lg margin-top\">取  消</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\n\timport core from \"@/core.js\"\r\n\t\r\n\texport default {\r\n\t\tcomputed: mapState(['userId']),\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuid:0,\r\n\t\t\t\tpage:1,\r\n\t\t\t\tviewtag:'',\r\n\t\t\t\tpagescroll:0,\r\n\t\t\t\theadheight:250,\r\n\t\t\t\tshowmodal:\"\",\r\n\t\t\t\tbarstatus:0,\r\n\t\t\t\tposters:[],\r\n\t\t\t\ttheme:core.style,\r\n\t\t\t\tloadmore:true,\r\n\t\t\t\tmyavatar:core.userinfo.avatar,\r\n\t\t\t\tdata:{\r\n\t\t\t\t\ttitle:\"广场\",\r\n\t\t\t\t\tuid:0,\r\n\t\t\t\t\tadvsindex:0,\r\n\t\t\t\t\talbumbgurl:\"../../static/images/bg_album.jpg\",\r\n\t\t\t\t\talbums:[],\r\n\t\t\t\t\tallowpost:false,\r\n\t\t\t\t\ttags:[],\r\n\t\t\t\t\tmember:{\r\n\t\t\t\t\t\tuid:0,\r\n\t\t\t\t\t\tnickname:\"\",\r\n\t\t\t\t\t\tavatar:\"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tshareinfo:{\r\n\t\t\t\t\t\ttitle:\"\",\r\n\t\t\t\t\t\tcover:\"\",\r\n\t\t\t\t\t\turl:\"\",\r\n\t\t\t\t\t\tdesc:\"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif(typeof(options.uid)!='undefined' && options.uid!='') this.uid = parseInt(options.uid);\r\n\t\t\tthis.loadAlbums(1);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif(this.data.uid>0 && this.page==1){\r\n\t\t\t\tthis.loadAlbums(1);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.doTaptag('');\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tif(!this.loadmore) return false;\r\n\t\t\tthis.loadAlbums(this.page+1);\r\n\t\t},\r\n\t\tonShareAppMessage(e){\r\n\t\t\treturn {\r\n\t\t\t\ttitle:this.data.shareinfo.title,\r\n\t\t\t\tpath:core.page(this.data.shareinfo.url),\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.pagescroll = e.scrollTop;\r\n\t\t\tif(core.platform=='app'){\r\n\t\t\t\tif(this.pagescroll>=this.headheight){\r\n\t\t\t\t\tif(this.barstatus==0){\r\n\t\t\t\t\t\tplus.navigator.setStatusBarStyle(\"dark\");\r\n\t\t\t\t\t\tthis.barstatus = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.barstatus==1){\r\n\t\t\t\t\t\tplus.navigator.setStatusBarStyle(\"light\");\r\n\t\t\t\t\t\tthis.barstatus = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tloadAlbums(page=1){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tcore.get('album',function(res){\r\n\t\t\t\t\tif(typeof(res.message)!='undefined' && typeof(res.type)!='undefined'){\r\n\t\t\t\t\t\treturn core.report(res, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.page = page;\r\n\t\t\t\t\tthat.loadmore = res.albums.length<15 ? false : true;\r\n\t\t\t\t\tif(page==1){\r\n\t\t\t\t\t\tthat.data = res;\r\n\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\ttitle:res.title\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.createSelectorQuery().select('.albumbg').boundingClientRect(function(res) {\r\n\t\t\t\t\t\t\tthat.headheight = res.height;\r\n\t\t\t\t\t\t\tif(core.platform=='app'){\r\n\t\t\t\t\t\t\t\tthat.headheight -= core.Client.statusBarHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t\tif(core.inwechat){\r\n\t\t\t\t\t\t\tcore.initshare(res.shareinfo.title,res.shareinfo.url,res.shareinfo.cover,res.shareinfo.desc);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.data.albums = that.data.albums.concat(res.albums);\r\n\t\t\t\t\t}\r\n\t\t\t\t},{page:page,uid:this.uid,tag:this.viewtag});\r\n\t\t\t},\r\n\t\t\tnaviTo(page,data={}){\r\n\t\t\t\treturn core.navito(page,data);\r\n\t\t\t},\r\n\t\t\tdoTaptag(tag=''){\r\n\t\t\t\tthis.viewtag = tag;\r\n\t\t\t\tthis.loadAlbums(1);\r\n\t\t\t},\r\n\t\t\tposterReload(index,pic){\r\n\t\t\t\tlet postloaded = 1;\r\n\t\t\t\tif(this.posters.hasOwnProperty(index)){\r\n\t\t\t\t\tpostloaded = this.posters[index] + 1;\r\n\t\t\t\t}\r\n\t\t\t\tif(postloaded>5) return false;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tthat.posters[index] = postloaded;\r\n\t\t\t\t},4000);\r\n\t\t\t},\r\n\t\t\tdoPreviewImage(pic,index){\r\n\t\t\t\tlet pics = index>=0 ? this.data.albums[index].pics : [pic];\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent:pic,\r\n\t\t\t\t\turls:pics\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoChangeBg(){\r\n\t\t\t\treturn core.notopen('更换背景图');\r\n\t\t\t},\r\n\t\t\tdoBack(){\r\n\t\t\t\treturn core.back();\r\n\t\t\t},\r\n\t\t\tdoPraise(aid=0,index=0){\r\n\t\t\t\treturn core.notopen('点赞');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.status_bar{width: 100%; height: var(--status-bar-height); position: fixed; left: 0; top: 0; z-index: 99;}\r\n\t.head{position: relative;}\r\n\t.head .cu-bar{top: var(--status-bar-height);}\r\n\t.userbar{position: absolute; right: 0; bottom: 0;}\r\n\t.userbar, .cu-bar.topbar,.topbar .cuIcon-cameraadd:before{text-shadow: 0 0 2px #000;}\r\n\t.topbar{box-shadow:none !important;}\r\n\t.topbar .action{color: #FFFFFF;}\r\n\t.topbar .content{display: none;}\r\n\t.albumbg{max-height: 560upx; overflow: hidden;}\r\n\t.albumbg image{width: 100%; min-height: 400upx; display: block;}\r\n\t.cu-card.dynamic>.cu-item>.text-content{margin-bottom: 0;}\r\n\t.cu-card.dynamic>.cu-item .onlyimg{height: auto; max-height: 320upx; overflow: hidden;}\r\n\t.chat-video .bg-video{height: auto !important; max-height: 360upx !important;}\r\n\t.chat-video .bg-video image{min-height: 360upx; width: 100%;}\r\n</style>","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1667475838123\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}