{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?3f63","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?01c5","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?a179","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?d4c0","uni-app:///pages/index/index.vue","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?f9e7","webpack:///C:/Users/will/Documents/GitHub/reference/仿微信IM即时通讯/pages/index/index.vue?b239"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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A,sCACA,CACA,gDACA,qBAEA,4CACA,gDACA,CAEA,mCACA,gCADA,IAGA,CACA,yCACA,0EACA,uCACA,CACA,gBACA,mBACA,sBACA,CACA,mBACA,oCACA,gDACA,kDACA,gDACA,4BACA,gBADA,IAGA,0DACA,kBACA,CAFA,MAEA,6DACA,2BACA,CACA,yBACA,4BACA,CACA,4BACA,gEACA,CACA,6BACA,yGACA,CACA,eACA,cACA,CACA,CAjCA,EAiCA,IAjCA,EAkCA,CA3EA,EA4EA,WA5EA,yBA4EA,CACA,qCACA,gBACA,mDACA,qEACA,2BACA,6BACA,iCACA,0BACA,0CACA,wBACA,oBACA,CAFA,EAEA,GAFA,EAGA,CACA,CAXA,EAYA,CA3FA,EA4FA,cA5FA,4BA4FA,yFACA,gBACA,8DACA,sBACA,CAFA,EAEA,OAFA,EAGA,CAjGA,EAkGA,YAlGA,wBAkGA,UAlGA,EAkGA,CACA;AACA,wCACA,+DACA,mFACA;AACA,6CAFA,CAGA;AACA,oDACA;AACA,2BACA,wBADA,EAEA,2BAFA,EAGA,+EAHA,EAIA,uBAJA,EAKA,gBALA,EAMA,wBANA,EAOA,cAPA,EAQA,SARA,GAUA,kCACA,8BACA,CAdA,MAcA,CACA;AACA,4DACA,2CAHA,CAIA;AACA,mCACA,6CACA,yCACA,oCACA,mCACA,8BACA,CACA,CACA,CACA,yCACA;AACA,2DACA,gDACA,kLACA,0DACA,CACA,CAzCA,MAyCA,sCACA,0BACA,CAFA,MAEA,uCACA,2BACA,CAFA,MAEA,oCACA;AACA,0CACA,kCACA,CACA,CAtJA,EAuJA,UAvJA,sBAuJA,OAvJA,EAuJA,CACA,gBACA,8CACA,6CACA;AACA;AACA,KA7JA;AA8JA,UA9JA,kBA8JA,IA9JA,EA8JA;AACA;AACA,KAhKA;AAiKA,UAjKA,oBAiKA;AACA;AACA,KAnKA;AAoKA,kBApKA,0BAoKA,KApKA,EAoKA;AACA;AACA;AACA,KAvKA;AAwKA,cAxKA,wBAwKA;AACA;AACA,KA1KA;AA2KA,sBA3KA,8BA2KA,OA3KA,EA2KA;AACA;AACA,KA7KA;AA8KA,gBA9KA,0BA8KA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAtLA;AAuLA;AACA,SAxLA,iBAwLA,CAxLA,EAwLA;AACA;AACA,qCADA;AAEA,iBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnMA;AAoMA,UApMA,kBAoMA,CApMA,EAoMA;AACA;AACA;AACA,KAvMA;AAwMA,UAxMA,kBAwMA,CAxMA,EAwMA;AACA;AACA;AACA,KA3MA;AA4MA;AACA,UA7MA,oBA6MA;AACA;AACA,KA/MA;;AAiNA;AACA,QAlNA,kBAkNA;AACA;AACA;AACA,KArNA;AAsNA,aAtNA,uBAsNA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,yBAFA;AAGA,6BAHA;AAIA,2BAJA;AAKA,wDALA;AAMA,4BANA;AAOA,wBAPA;AAQA,mBARA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1PA;AA2PA,YA3PA,sBA2PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnQA;AAoQA,eApQA,yBAoQA;AACA;AACA;AACA;AACA;AACA;AACA,KA1QA,EA3GA,E;;;;;;;;;;;;ACxQA;AAAA;AAAA;AAAA;AAA2iC,CAAgB,s8BAAG,EAAC,C;;;;;;;;;;ACA/jC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showmodal = \"popupover\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showmodal = \"\"\n    }\n\n    _vm.e2 = function($event) {\n      _vm.showmodal = \"\"\n    }\n\n    _vm.e3 = function($event) {\n      _vm.showmodal = \"\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"contianer\" :class=\"'wp-'+platform\">\r\n\t\t<cu-custom v-if=\"hasLogin\" :bgColor=\"theme.bgnav\" :isBack=\"false\">\r\n\t\t\t<!-- #ifdef MP -->\r\n\t\t\t<block slot=\"left\">\r\n\t\t\t\t<view class=\"text-xxl action\" @click=\"naviTo('album/post')\" v-if=\"navkey=='more' && data.switchs.albumpost\">\r\n\t\t\t\t\t<text class=\"cuIcon-cameraadd\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-xxl action\" @click=\"showmodal='popupover'\" v-else-if=\"navigation.popup.length>0 || data.switchs.popupscan\">\r\n\t\t\t\t\t<text class=\"cuIcon-roundadd\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<block slot=\"content\">{{data.title}}</block>\r\n\t\t\t<!-- #ifndef MP -->\r\n\t\t\t<block slot=\"right\">\r\n\t\t\t\t<view class=\"text-xxl action right\" @click=\"naviTo('album/post')\" v-if=\"navkey=='more' && data.switchs.albumpost\">\r\n\t\t\t\t\t<text class=\"cuIcon-cameraadd\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-xxl action right\" @click=\"showmodal='popupover'\" v-else-if=\"navigation.popup.length>0 || data.switchs.popupscan\">\r\n\t\t\t\t\t<text class=\"cuIcon-roundadd\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<!-- #endif -->\r\n\t\t</cu-custom>\r\n\t\t<aboutus v-if=\"!hasLogin\" :auditmode=\"auditmode\" :btnstyle=\"theme.actcolor\" :runshow=\"runshows\"></aboutus>\r\n\t\t<view v-else>\r\n\t\t\t<view class=\"splash bg-gray\" v-if=\"!inited\">\r\n\t\t\t\t<image :src=\"splash\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"loader\">\r\n\t\t\t\t\t<view class=\"cu-load loading text-white\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"main-pages\">\r\n\t\t\t\t<view class=\"mainpageitem\" :class=\"navkey=='dialogs'?'active':''\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar dialoglist\" v-if=\"data.dialogs.length>0\">\r\n\t\t\t\t\t\t<view class=\"cu-item\" @longpress=\"doActionDialog(index)\" @click=\"makechat(item.cid,item.type)\" v-for=\"(item, index) in data.dialogs\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar radius lg\" :style=\"'background-image:url('+item.avatar+');'\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view><view class=\"text-cut\">{{item.title}}</view></view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\"> <view class=\"text-cut\">{{item.nicknametext}}{{item.message}}</view></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-grey text-xs\">{{item.datetime}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"cu-tag round bg-red sm\" v-if=\"item.noread>0\">{{item.noread}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"padding solid-top\" v-else>\r\n\t\t\t\t\t\t<view class=\"text-empty\">空无一人，快找个人聊聊吧~</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mainpageitem\" :class=\"navkey=='contacts'?'active':''\">\r\n\t\t\t\t\t<view class=\"cu-list menu\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('friend/news')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-friendadd text-grey text-xl\"></text>\r\n\t\t\t\t\t\t\t\t<text>新的朋友</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action\" v-if=\"data.newfriends>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-tag round bg-red\">{{data.newfriends}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" v-if=\"data.switchs.group\" @click=\"naviTo('group/mine')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-group text-grey text-xl\"></text>\r\n\t\t\t\t\t\t\t\t<text>{{text.text_groupname}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"margin-top\" v-if=\"friends.data.length>0\">\r\n\t\t\t\t\t\t<scroll-view scroll-y class=\"indexes\" :scroll-into-view=\"'indexes-'+ indexes.listCurID\" :style=\"[{height:'calc(100vh - '+ CustomBar + 'px - '+indexes.spacehei+'px)'}]\" :scroll-with-animation=\"true\" :enable-back-to-top=\"true\">\r\n\t\t\t\t\t\t\t<block v-for=\"(item,index) in friends.data\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view :class=\"'indexItem-' + item.letter\" :id=\"'indexes-' + item.letter\" :data-index=\"item.letter\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"padding-sm\">{{item.letter}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"cu-list menu-avatar no-padding\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-item\" @click=\"naviTo('member/index',{uid:value.fuid})\" v-for=\"(value,key) in item.list\" :key=\"key\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"cu-avatar round\" :style=\"'background-image:url('+value.avatar+');'\"></view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view><view class=\"text-cut text-lg\">{{value.remark}}</view></view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<view class=\"padding text-center\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">共{{friends.totals}}位好友</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view class=\"indexBar\" :style=\"[{height:'calc(100vh - ' + indexes.CustomBar + 'px - '+indexes.spacehei+'px)'}]\">\r\n\t\t\t\t\t\t\t<view class=\"indexBar-box\" @touchstart=\"tStart\" @touchend=\"tEnd\" @touchmove.stop=\"tMove\">\r\n\t\t\t\t\t\t\t\t<view class=\"indexBar-item\" v-for=\"(item,index) in friends.data\" :key=\"index\" :id=\"index\" @touchstart=\"getCur\" @touchend=\"setCur\"> {{item.letter}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-show=\"!hidden\" class=\"indexToast\">\r\n\t\t\t\t\t\t\t{{indexes.listCur}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-empty\" v-else>\r\n\t\t\t\t\t\t<text v-if=\"friends.inited\">{{text.text_empty}}</text>\r\n\t\t\t\t\t\t<text v-else class=\"cu-load load-cuIcon loading\">好友加载中...</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mainpageitem\" :class=\"navkey=='more'?'active':''\">\r\n\t\t\t\t\t<view class=\"cu-list menu\" v-if=\"data.switchs.square || data.switchs.album\">\r\n\t\t\t\t\t\t<view v-if=\"data.switchs.square\" class=\"cu-item arrow\" @click=\"naviTo('album/index')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-discover text-red\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">广场</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"data.switchs.album\" class=\"cu-item arrow\" @click=\"naviTo('album/friend')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<image src=\"@/static/images/icon_pyq.png\" class=\"png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t<text class=\"padding-left-xs\">{{text.text_friends_album}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\" v-if=\"data.switchs.groupentry\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('group/index')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-group text-blue\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">全部群组</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\" v-if=\"data.switchs.scan || data.switchs.search\">\r\n\t\t\t\t\t\t<view v-if=\"data.switchs.scan\" class=\"cu-item arrow\" @click=\"doscan()\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-scan text-orange\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">扫一扫</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"data.switchs.search\" class=\"cu-item arrow\" @click=\"naviTo('search/index')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-search text-green\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">搜一搜</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\" v-if=\"navigation.more.length>0\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo((item.inner==1?'':'net:')+item.url)\" v-for=\"(item, index) in navigation.more\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"content\" :class=\"item.extra\">\r\n\t\t\t\t\t\t\t\t<text :class=\"item.icon\" style=\"font-size: 40upx;\" v-if=\"item.icon!=''\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-link text-blue\" style=\"font-size: 40upx;\" v-else></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"mainpageitem\" :class=\"navkey=='mine'?'active':''\">\r\n\t\t\t\t\t<view class=\"cu-list menu-avatar solid-top\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('member/account')\">\r\n\t\t\t\t\t\t\t<view class=\"cu-avatar radius lg\" :style=\"'background-image:url('+data.userinfo.avatar+');'\"></view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut text-xl\">\r\n\t\t\t\t\t\t\t\t\t\t{{data.userinfo.nickname}}\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"cu-tag bg-orange round margin-left-sm light\">{{data.userinfo.grouptitle}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-gray text-sm flex\" v-if=\"data.userid!=''\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text-cut\">{{data.userid}} : {{data.userid=='ID'?data.userinfo.uid:data.userinfo.userid}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-grey text-lg\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"cuIcon-qr_code\"></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\" v-if=\"data.switchs.credit\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('credit/index')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-pay\" :class=\"'text-'+theme.actcolor\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">钱包</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('album/index',{uid:data.userinfo.uid})\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-pic text-mauve\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">相册</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('member/collection')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-favor text-orange\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">收藏</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" v-if=\"data.switchs.group\" @click=\"naviTo('member/group')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-group text-blue\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">群组</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action\" v-if=\"data.groupapplys>0\">\r\n\t\t\t\t\t\t\t\t<view class=\"cu-tag round bg-red sm\">{{data.groupapplys}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-list menu\">\r\n\t\t\t\t\t\t<view class=\"cu-item arrow\" @click=\"naviTo('member/setting')\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-settings text-cyan\" style=\"font-size: 40upx;\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"text-lg\">设置</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-bar tabbar bg-white foot\" v-if=\"data.mainnavs.length>0\">\r\n\t\t\t\t<view class=\"action\" :class=\"navkey==item.key?'text-'+theme.actcolor:''\" @click=\"checkoutbar(item.key,item.url)\" v-for=\"(item, index) in data.mainnavs\" :key=\"index\">\r\n\t\t\t\t\t<view :class=\"item.icon+(navkey==item.key?'fill':'')\">\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"item.key=='dialogs' && newMsg>0\">{{newMsg}}</view>\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"item.key=='contacts' && data.newfriends>0\">{{data.newfriends}}</view>\r\n\t\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"item.key=='mine' && data.groupapplys>0\">{{data.groupapplys}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"popupover\" :class=\"showmodal=='popupover'?'active':''\" v-if=\"navigation.popup.length>0 || data.switchs.popupscan\">\r\n\t\t\t\t<view class=\"popupover-bg\" @tap=\"showmodal=''\"></view>\r\n\t\t\t\t<view class=\"radius popcontainer shadow-blur\">\r\n\t\t\t\t\t<view class=\"cu-list menu\">\r\n\t\t\t\t\t\t<view class=\"cu-item\" @click=\"doscan()\" v-if=\"data.switchs.popupscan\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text class=\"cuIcon-scan\"></text>\r\n\t\t\t\t\t\t\t\t<text>扫一扫</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"cu-item\" @click=\"naviTo((item.inner==1?'':'net:')+item.url)\" v-for=\"(item,index) in navigation.popup\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text :class=\"item.icon==''?'cuIcon-link':item.icon\"></text>\r\n\t\t\t\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"showmodal=='actiondialog'?'show':''\">\r\n\t\t\t\t<view class=\"cu-modal-bg\" @tap=\"showmodal=''\"></view>\r\n\t\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t\t<view class=\"padding\">\r\n\t\t\t\t\t\t<view class=\"flex flex-direction\">\r\n\t\t\t\t\t\t\t<button @click=\"doRmDialog()\" class=\"cu-btn bg-red lg\">删除</button>\r\n\t\t\t\t\t\t\t<button @click=\"showmodal=''\" class=\"cu-btn bg-grey lg margin-top\">取  消</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\n\timport store from '@/store/index.js'\r\n\timport core from \"@/core.js\"\r\n\timport swasocket from \"@/swasocket.js\"\r\n\timport aboutus from \"@/components/util/aboutus.vue\"\r\n\t\r\n\texport default {\r\n\t\tcomponents: {aboutus},\r\n\t\tcomputed: mapState(['userId', 'hasLogin', 'userName', 'userSign','newMsg','Chatid', 'Chattype']),\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trunshows:[],\r\n\t\t\t\tinited:false,\r\n\t\t\t\ttheme:core.style,\r\n\t\t\t\tsplash:core.system.splash,\r\n\t\t\t\tactionindex:-1,\r\n\t\t\t\tauditmode:{\r\n\t\t\t\t\tstatus:false,\r\n\t\t\t\t\ttext:'立即体验',\r\n\t\t\t\t\turl:'auth/index',\r\n\t\t\t\t\tlogin:''\r\n\t\t\t\t},\r\n\t\t\t\tdialogs:[],\r\n\t\t\t\tnavkey:\"\",\r\n\t\t\t\tplatform:core.platform,\r\n\t\t\t\tshowmodal:'',\r\n\t\t\t\thidden:true,\r\n\t\t\t\ttext:core.langs,\r\n\t\t\t\tindexes:{\r\n\t\t\t\t\tlistCurID:'',\r\n\t\t\t\t\tCustomBar:this.CustomBar,\r\n\t\t\t\t\tlistCur:'',\r\n\t\t\t\t\tboxTop:0,\r\n\t\t\t\t\tbarTop:0,\r\n\t\t\t\t\tspacehei:165\r\n\t\t\t\t},\r\n\t\t\t\tfriends:{\r\n\t\t\t\t\tinited:false,\r\n\t\t\t\t\tdata:[],\r\n\t\t\t\t\ttotals:0\r\n\t\t\t\t},\r\n\t\t\t\tnavigation:{\r\n\t\t\t\t\tmore:[],\r\n\t\t\t\t\tpopup:[]\r\n\t\t\t\t},\r\n\t\t\t\tdata:{\r\n\t\t\t\t\ttitle:\"首页\",\r\n\t\t\t\t\tdialogs:[],\r\n\t\t\t\t\tmainnavs:[],\r\n\t\t\t\t\tnoreads:0,\r\n\t\t\t\t\tnewfriends:0,\r\n\t\t\t\t\tgroupapplys:0,\r\n\t\t\t\t\tnavkey:\"\",\r\n\t\t\t\t\tswitchs:{\r\n\t\t\t\t\t\tcredit:core.system.creditswitch,\r\n\t\t\t\t\t\tsquare:true,\r\n\t\t\t\t\t\talbum:true,\r\n\t\t\t\t\t\talbumpost:true,\r\n\t\t\t\t\t\tgroup:core.system.groupswitch,\r\n\t\t\t\t\t\tgroupentry:true,\r\n\t\t\t\t\t\tscan:true,\r\n\t\t\t\t\t\tsearch:true,\r\n\t\t\t\t\t\tpopupscan:true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuserid:\"\",\r\n\t\t\t\t\tuserinfo:{\r\n\t\t\t\t\t\tuid:0,\r\n\t\t\t\t\t\tnickname:\"未登录\",\r\n\t\t\t\t\t\tavatar:core.system.logo,\r\n\t\t\t\t\t\tuserid:\"\",\r\n\t\t\t\t\t\tgrouptitle:\"默认用户\",\r\n\t\t\t\t\t\tgroupid:0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tuserset:{},\r\n\t\t\t\t\tshareinfo:{\r\n\t\t\t\t\t\t\"title\":\"\",\r\n\t\t\t\t\t\t\"desc\":\"\",\r\n\t\t\t\t\t\t\"cover\":\"\",\r\n\t\t\t\t\t\t\"url\":\"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.initData('appmain');\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t},\r\n\t\tonShareAppMessage(e){\r\n\t\t\treturn {\r\n\t\t\t\ttitle:this.data.shareinfo.title,\r\n\t\t\t\tpath:core.page(this.data.shareinfo.url),\r\n\t\t\t\timageUrl:this.data.shareinfo.cover,\r\n\t\t\t\tdesc:this.data.shareinfo.desc\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tif(!this.hasLogin){\r\n\t\t\t\tthis.initSystem();\r\n\t\t\t}else{\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tthis.initData('appmain',{},function(){\r\n\t\t\t\t\tself.initNavigation(true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t},\r\n\t\tsockets:{\r\n\t\t\tnew_msg(msg){\r\n\t\t\t\tlet socketdata = typeof(msg.content)=='undefined' ? msg : JSON.parse(msg.content);\r\n\t\t\t\treturn this.socketrecive(socketdata);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tinitSystem(){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\tcore.initsys(core.userinfo.token,function(){\r\n\t\t\t\t\tself.theme = core.style;\r\n\t\t\t\t\tself.text = core.langs;\r\n\t\t\t\t\tself.runshows = core.system.apprunshow;\r\n\t\t\t\t\tself.splash = core.system.splash;\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle:core.system.name\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitData(route, data={}, callback=false){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif(!core.inited) {\r\n\t\t\t\t\tcore.inithandel = function(){\r\n\t\t\t\t\t\tthat.initData('appmain');\r\n\t\t\t\t\t\tthat.theme = core.style;\r\n\t\t\t\t\t\tthat.platform = core.platform;\r\n\t\t\t\t\t\tthat.text = core.langs;\r\n\t\t\t\t\t\tthat.runshows = core.system.apprunshow;\r\n\t\t\t\t\t\tthat.splash = core.system.splash;\r\n\t\t\t\t\t\tcore.inithandel = null;\r\n\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\ttitle:core.system.name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn core.toast('初始化中...');\r\n\t\t\t\t}\r\n\t\t\t\tthis.runshows = core.system.apprunshow;\r\n\t\t\t\tif(!this.hasLogin){\r\n\t\t\t\t\t// #ifdef MP\r\n\t\t\t\t\tif(core.system.auditmode.status){\r\n\t\t\t\t\t\tthis.auditmode = core.system.auditmode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\treturn uni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle:core.system.name\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tcore.get(route,function(res){\r\n\t\t\t\t\tif(typeof(res.message)!='undefined' && typeof(res.type)!='undefined'){\r\n\t\t\t\t\t\treturn core.report(res, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.data = res;\r\n\t\t\t\t\tif(!that.inited){\r\n\t\t\t\t\t\tthat.initNavigation();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.inited = true;\r\n\t\t\t\t\tcore.userset = res.userset;\r\n\t\t\t\t\tif(that.navkey=='') that.navkey = res.navkey;\r\n\t\t\t\t\tthat.initsocket(core.system.socket.type);\r\n\t\t\t\t\tstore.commit('setnewmsg',res.noreads);\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle:res.title\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(res.releasedate!=core.system.releasedate){\r\n\t\t\t\t\t\tthat.initSystem();\r\n\t\t\t\t\t}else if(res.userinfo.groupid!=core.userinfo.groupid){\r\n\t\t\t\t\t\tcore.cacheclear();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!res.switchs.group){\r\n\t\t\t\t\t\tthat.indexes.spacehei = 115;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i in res.dialogs){\r\n\t\t\t\t\t\tthat.dialogs[i] = res.dialogs[i].type+''+res.dialogs[i].cid;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(core.inwechat){\r\n\t\t\t\t\t\tcore.initshare(res.shareinfo.title,res.shareinfo.url,res.shareinfo.cover,res.shareinfo.desc);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(callback){\r\n\t\t\t\t\t\tcallback(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t},data);\r\n\t\t\t},\r\n\t\t\tinitFriends(){\r\n\t\t\t\tif(this.friends.inited) return true;\r\n\t\t\t\tlet self = this;\r\n\t\t\t\treturn core.get('friend',function(res){\r\n\t\t\t\t\tif(typeof(res.type)!='undefined') return core.report(res);\r\n\t\t\t\t\tself.friends.inited = true;\r\n\t\t\t\t\tself.friends.data = res.data;\r\n\t\t\t\t\tself.friends.totals = res.totals;\r\n\t\t\t\t\tif(res.data.length>0){\r\n\t\t\t\t\t\tself.indexes.listCur = res.data[0].letter;\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tself.indexesReady();\r\n\t\t\t\t\t\t},100);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tinitNavigation(nocache=false){\r\n\t\t\t\tlet self = this;\r\n\t\t\t\treturn core.cachecloud('navigation',function(res){\r\n\t\t\t\t\tself.navigation = res;\r\n\t\t\t\t},nocache);\r\n\t\t\t},\r\n\t\t\tsocketrecive(socketdata){\r\n\t\t\t\t//console.log(socketdata);\r\n\t\t\t\tif(socketdata.type=='dialog'){\r\n\t\t\t\t\tlet ctypeid = socketdata.dialogtype + '' + socketdata.dialogid;\r\n\t\t\t\t\tif(socketdata.dialogid!=this.Chatid || socketdata.dialogtype!=this.Chattype){\r\n\t\t\t\t\t\t//增加总未读消息数\r\n\t\t\t\t\t\tstore.commit('getnewmsg');\r\n\t\t\t\t\t\t//增加列表未读消息数量\r\n\t\t\t\t\t\tif(this.dialogs.indexOf(ctypeid)==-1){\r\n\t\t\t\t\t\t\t//消息列表不存在，则往列表添加聊天\r\n\t\t\t\t\t\t\tlet dialog = {\r\n\t\t\t\t\t\t\t\tcid:socketdata.dialogid,\r\n\t\t\t\t\t\t\t\ttype:socketdata.dialogtype,\r\n\t\t\t\t\t\t\t\tavatar:socketdata.dialogtype=='group'?socketdata.cover:socketdata.avatar,\r\n\t\t\t\t\t\t\t\ttitle:socketdata.title,\r\n\t\t\t\t\t\t\t\tnicknametext:'',\r\n\t\t\t\t\t\t\t\tmessage:socketdata.spct,\r\n\t\t\t\t\t\t\t\tdatetime:'刚刚',\r\n\t\t\t\t\t\t\t\tnoread:1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.data.dialogs.unshift(dialog);\r\n\t\t\t\t\t\t\tthis.dialogs.unshift(ctypeid);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t//消息列表存在，则增加未读消息数量\r\n\t\t\t\t\t\t\tlet dialogindex = this.dialogs.indexOf(ctypeid);\r\n\t\t\t\t\t\t\tthis.data.dialogs[dialogindex].noread += 1;\r\n\t\t\t\t\t\t\t//同时调换顺序到最前面\r\n\t\t\t\t\t\t\tif(dialogindex!=0){\r\n\t\t\t\t\t\t\t\tlet dialog = this.data.dialogs[dialogindex];\r\n\t\t\t\t\t\t\t\tthis.data.dialogs.splice(dialogindex,1);\r\n\t\t\t\t\t\t\t\tthis.dialogs.splice(dialogindex,1);\r\n\t\t\t\t\t\t\t\tthis.data.dialogs.unshift(dialog);\r\n\t\t\t\t\t\t\t\tthis.dialogs.unshift(ctypeid);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.dialogs.indexOf(ctypeid)>-1){\r\n\t\t\t\t\t\t//往更新消息列表显示内容\r\n\t\t\t\t\t\tlet dialogindex = this.dialogs.indexOf(ctypeid);\r\n\t\t\t\t\t\tthis.data.dialogs[dialogindex].datetime = '刚刚';\r\n\t\t\t\t\t\tthis.data.dialogs[dialogindex].nicknametext = socketdata.dialogtype=='normal'||this.data.dialogs[dialogindex].title==socketdata.nickname ? '' : socketdata.nickname + '：';\r\n\t\t\t\t\t\tthis.data.dialogs[dialogindex].message = socketdata.spct;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(socketdata.type=='makefriend'){\r\n\t\t\t\t\tthis.data.newfriends += 1;\r\n\t\t\t\t}else if(socketdata.type=='groupapplys'){\r\n\t\t\t\t\tthis.data.groupapplys += 1;\r\n\t\t\t\t}else if(socketdata.type=='rmdialog'){\r\n\t\t\t\t\t//从列表中删除会话\r\n\t\t\t\t\tlet ctypeid = socketdata.ctypeid;\r\n\t\t\t\t\tthis.doRmDialogFromList(ctypeid);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitsocket(scktype){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tswasocket.PostEvent = this.postevent;\r\n\t\t\t\tif(scktype=='local' || scktype=='tim'){\r\n\t\t\t\t\tswasocket.Handels.mainpage = this.socketrecive;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnaviTo(page,data={}){\r\n\t\t\t\treturn core.navito(page,data);\r\n\t\t\t},\r\n\t\t\tdoscan(){\r\n\t\t\t\treturn core.scan();\r\n\t\t\t},\r\n\t\t\tdoActionDialog(index){\r\n\t\t\t\tthis.actionindex = index;\r\n\t\t\t\tthis.showmodal = 'actiondialog';\r\n\t\t\t},\r\n\t\t\tdoRmDialog(){\r\n\t\t\t\treturn core.toast('暂未开放');\r\n\t\t\t},\r\n\t\t\tdoRmDialogFromList(ctypeid){\r\n\t\t\t\treturn core.toast('暂未开放');\r\n\t\t\t},\r\n\t\t\tindexesReady(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.createSelectorQuery().select('.indexBar-box').boundingClientRect(function(res) {\r\n\t\t\t\t\tthat.indexes.boxTop = res.top\r\n\t\t\t\t}).exec();\r\n\t\t\t\tuni.createSelectorQuery().select('.indexes').boundingClientRect(function(res) {\r\n\t\t\t\t\tthat.indexes.barTop = res.top\r\n\t\t\t\t}).exec();\r\n\t\t\t},\r\n\t\t\t//滑动选择Item\r\n\t\t\ttMove(e) {\r\n\t\t\t\tlet y = e.touches[0].clientY,\r\n\t\t\t\t\toffsettop = this.indexes.boxTop,\r\n\t\t\t\t\tthat = this;\r\n\t\t\t\t//判断选择区域,只有在选择区才会生效\r\n\t\t\t\tif (y > offsettop) {\r\n\t\t\t\t\tlet num = parseInt((y - offsettop) / 20);\r\n\t\t\t\t\tif(num<that.friends.data.length){\r\n\t\t\t\t\t\tthat.indexes.listCur = that.friends.data[num].letter;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tgetCur(e) {\r\n\t\t\t\tthis.hidden = false;\r\n\t\t\t\tthis.indexes.listCur = this.friends.data[e.target.id].letter;\r\n\t\t\t},\r\n\t\t\tsetCur(e) {\r\n\t\t\t\tthis.hidden = true;\r\n\t\t\t\tthis.indexes.listCur = this.indexes.listCur\r\n\t\t\t},\r\n\t\t\t//触发全部开始选择\r\n\t\t\ttStart() {\r\n\t\t\t\tthis.hidden = false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//触发结束选择\r\n\t\t\ttEnd() {\r\n\t\t\t\tthis.hidden = true;\r\n\t\t\t\tthis.indexes.listCurID = this.indexes.listCur\r\n\t\t\t},\r\n\t\t\tpostevent(data={}){\r\n\t\t\t\tlet ctypeid = data.type + '' + data.cid;\r\n\t\t\t\tlet dialogindex = this.dialogs.indexOf(ctypeid);\r\n\t\t\t\tif(dialogindex==-1){\r\n\t\t\t\t\t//消息列表未存在\r\n\t\t\t\t\tlet dialog = {\r\n\t\t\t\t\t\tcid:data.cid,\r\n\t\t\t\t\t\ttype:data.type,\r\n\t\t\t\t\t\tavatar:data.avatar,\r\n\t\t\t\t\t\ttitle:data.title,\r\n\t\t\t\t\t\tnicknametext:data.type=='group'?'我：':'',\r\n\t\t\t\t\t\tmessage:data.spct,\r\n\t\t\t\t\t\tdatetime:'刚刚',\r\n\t\t\t\t\t\tnoread:0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.data.dialogs.unshift(dialog);\r\n\t\t\t\t\tthis.dialogs.unshift(ctypeid);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\t//更新未读消息数\r\n\t\t\t\tlet noreads = parseInt(this.data.dialogs[dialogindex].noread);\r\n\t\t\t\tif(noreads>0){\r\n\t\t\t\t\tstore.commit('setnewmsg',(this.newMsg-noreads));\r\n\t\t\t\t}\r\n\t\t\t\t//将发送的内容到消息列表\r\n\t\t\t\tthis.data.dialogs[dialogindex].datetime = '刚刚';\r\n\t\t\t\tthis.data.dialogs[dialogindex].nicknametext = data.type=='normal' ? '' : '我：';\r\n\t\t\t\tthis.data.dialogs[dialogindex].message = data.spct;\r\n\t\t\t\tthis.data.dialogs[dialogindex].noread = 0;\r\n\t\t\t\tif(dialogindex!=0){\r\n\t\t\t\t\tlet dialog = this.data.dialogs[dialogindex];\r\n\t\t\t\t\tthis.data.dialogs.splice(dialogindex,1);\r\n\t\t\t\t\tthis.dialogs.splice(dialogindex,1);\r\n\t\t\t\t\tthis.data.dialogs.unshift(dialog);\r\n\t\t\t\t\tthis.dialogs.unshift(ctypeid);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmakechat(cid=0,ctype='normal'){\r\n\t\t\t\tif(cid<=0) return core.toast('无效的会话ID');\r\n\t\t\t\tlet ctypeid = ctype + '' + cid;\r\n\t\t\t\tlet dialogindex = this.dialogs.indexOf(ctypeid);\r\n\t\t\t\tlet noread = this.newMsg - this.data.dialogs[dialogindex].noread;\r\n\t\t\t\tstore.commit('setnewmsg',noread);\r\n\t\t\t\tthis.data.dialogs[dialogindex].noread = 0;\r\n\t\t\t\treturn core.navito('dialog/index',{cid:cid,type:ctype})\r\n\t\t\t},\r\n\t\t\tcheckoutbar(navkey='',url=''){\r\n\t\t\t\tif(url!='') return core.navito(url);\r\n\t\t\t\tthis.navkey = navkey;\r\n\t\t\t\tif(navkey=='contacts'){\r\n\t\t\t\t\tthis.initFriends();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage{padding-bottom: 100upx;}\r\n\t.splash{position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index: 999;}\r\n\t.splash image{width: 100%; height: 100%;}\r\n\t.splash .loader{position: absolute; left: 50%; top: 50%; width: 200upx; margin-left: -100upx; background: rgba(0,0,0,0.3); border-radius: 6upx; margin-top: -42upx;}\r\n\t.main-pages .mainpageitem{display: none;}\r\n\t.main-pages .mainpageitem.active{display: block;}\r\n\t.popcontainer{position: absolute; right: 20upx; background: #2C405A; padding: 10upx 20upx; top: calc(90upx + var(--status-bar-height));}\r\n\t.popcontainer .cu-item{background: none !important; color: #FFFFFF; min-height: 72upx; padding:0 10upx;}\r\n\t.popcontainer .cu-item::after{border-color: #666666 !important;}\r\n\t.popcontainer .cu-item text[class*=cuIcon]{font-size: 36upx;}\r\n\t.popcontainer::after{width: 20upx; height: 20upx; background: #2C405A; content: ''; right: 16upx; top: -8upx; position: absolute; transform: rotate(45deg); border-radius: 4upx;}\r\n\t.wp-ttapp .popcontainer, .wp-wxapp .popcontainer{right: auto; left: 20upx;}\r\n\t.wp-ttapp .popcontainer::after, .wp-wxapp .popcontainer::after{right: auto; left: 16upx;}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1667475838111\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}