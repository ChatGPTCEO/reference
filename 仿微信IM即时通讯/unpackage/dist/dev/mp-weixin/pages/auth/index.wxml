<view><cu-custom vue-id="3d3e5422-1" isBack="{{true}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">{{titles[action]}}</view></cu-custom><view><view data-event-opts="{{[['tap',[['ChooseCover',['$event']]]]]}}" class="padding-xl text-center text-xxl head" bindtap="__e"><image class="round avatar margin-top-xl" src="{{avatar}}"></image><block wx:if="{{action=='register'}}"><text class="cuIcon-camera text-orange"></text></block></view><view class="padding-xl"><form><view class="cu-form-group round"><text class="cuIcon-people margin-right-sm"></text><input type="text" placeholder="{{'请输入'+data.registermethod+(action=='login'&&data.accountname!=''?'/'+data.accountname:'')}}" name="username" data-event-opts="{{[['input',[['__set_model',['$0','username','$event',[]],['postdata']],['typeusername',['$event']]]]]}}" value="{{postdata.username}}" bindinput="__e"/></view><block wx:if="{{data.verifycode&&(action=='register'||postdata.mode=='code')}}"><view class="margin-top cu-form-group round"><text class="cuIcon-mail margin-right-sm"></text><input type="text" placeholder="输入收到的验证码" name="verifycode" data-event-opts="{{[['input',[['__set_model',['$0','verifycode','$event',[]],['postdata']]]]]}}" value="{{postdata.verifycode}}" bindinput="__e"/><button class="{{['cu-btn','shadow','round',verifycodetext=='获取验证码'?'bg-'+theme.actcolor:'']}}" disabled="{{verifycodetext=='获取验证码'?false:true}}" data-event-opts="{{[['tap',[['sendcode']]]]}}" bindtap="__e">{{verifycodetext}}</button></view></block><block wx:if="{{action=='register'}}"><view class="margin-top cu-form-group round"><text class="cuIcon-profile margin-right-sm"></text><input type="text" placeholder="设置一个好听的昵称" name="nickname" data-event-opts="{{[['input',[['__set_model',['$0','nickname','$event',[]],['postdata']]]]]}}" value="{{postdata.nickname}}" bindinput="__e"/></view></block><block wx:if="{{action=='register'||step==1&&postdata.mode!='code'}}"><view class="margin-top cu-form-group round"><text class="cuIcon-lock margin-right-sm"></text><input type="text" focus="{{inputfocus=='password'?true:false}}" password="{{!viewpassword}}" placeholder="{{action=='login'?'请输入您的登录密码':'设置一个登录密码'}}" name="password" data-event-opts="{{[['confirm',[['dologin']]],['input',[['__set_model',['$0','password','$event',[]],['postdata']]]]]}}" value="{{postdata.password}}" bindconfirm="__e" bindinput="__e"/><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{[viewpassword?['text-'+theme.actcolor,'cuIcon-attentionfill']:'cuIcon-attentionforbid']}}" bindtap="__e"></text></view></block><block wx:if="{{action=='login'}}"><view class="margin-top"><view class="margin-top flex flex-direction"><button data-event-opts="{{[['tap',[['dologin']]]]}}" class="{{['cu-btn','lg','round','bg-'+theme.actcolor]}}" bindtap="__e">{{btnarr[step]}}</button></view><block wx:if="{{data.register||data.verifycode}}"><view class="flex margin-top-xl text-center text-lg padding-lr-xl" style="{{('color:'+theme.link)}}"><block wx:if="{{data.verifycode}}"><view class="{{['flex-sub',data.register?'solid-right':'']}}"><block wx:if="{{postdata.mode!='code'}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e">验证码登录</view></block><block wx:else><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" bindtap="__e">密码登录</view></block></view></block><block wx:if="{{data.register}}"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="flex-sub" bindtap="__e"><text>立即注册</text></view></block></view></block></view></block><block wx:else><view class="margin-top"><view class="margin-top flex flex-direction"><button data-event-opts="{{[['tap',[['doregister']]]]}}" class="{{['cu-btn','lg','round','bg-'+theme.actcolor]}}" bindtap="__e">立即注册</button></view><view class="flex margin-top-xl text-center text-lg text-blue padding-lr-xl"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="flex-sub" bindtap="__e"><text>已有账号？前往登录</text></view></view></view></block></form></view><block wx:if="{{quicklogin}}"><view class="text-center padding-top-xl margin-top-xl padding-left padding-right"><view class="text-gray text-lg">使用第三方授权登录</view><view class="flex quicklogin padding-left padding-right"><block wx:if="{{quicklogins.weixin}}"><view class="flex-sub quick-item"><button class="quick-weixin nobg noaf padding-0" open-type="getUserInfo" withCredentials="true" data-event-opts="{{[['getuserinfo',[['WxappLogin',['$event']]]]]}}" bindgetuserinfo="__e"><image class="png" mode="aspectFit" src="/static/images/icon/auth_weixin.png"></image></button></view></block><block wx:if="{{quicklogins.qq}}"><view data-event-opts="{{[['tap',[['login',['qq']]]]]}}" class="flex-sub quick-item" bindtap="__e"><view class="quick-qq"><image class="png" mode="aspectFit" src="/static/images/icon/auth_qqconnect.png"></image></view></view></block><block wx:if="{{quicklogins.sinaweibo}}"><view data-event-opts="{{[['tap',[['login',['sina']]]]]}}" class="flex-sub quick-item" bindtap="__e"><view class="quick-sina"><image class="png" mode="aspectFit" src="/static/images/icon/auth_sina.png"></image></view></view></block></view></view></block><block wx:if="{{data.agreement!=''}}"><view data-event-opts="{{[['tap',[['doViewAgreement']]]]}}" class="padding-xl text-center text-lg" bindtap="__e"><text>{{titles[action]+"代表您已阅读并同意"}}</text><text style="{{('color:'+theme.link)}}">《用户隐私政策》</text></view></block></view></view>