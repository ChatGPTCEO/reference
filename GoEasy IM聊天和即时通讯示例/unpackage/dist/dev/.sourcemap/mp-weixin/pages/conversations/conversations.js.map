{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?6b96","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?665e","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?b0d3","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?a7d8","uni-app:///pages/conversations/conversations.vue","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?9ac0","webpack:///C:/Users/will/Documents/GitHub/reference/GoEasy IM聊天和即时通讯示例/pages/conversations/conversations.vue?2dcb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/conversations/conversations.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/conversations/conversations.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./conversations.vue?vue&type=template&id=baa81b30&\"\nvar renderjs\nimport script from \"./conversations.vue?vue&type=script&lang=js&\"\nexport * from \"./conversations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./conversations.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/conversations/conversations.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversations.vue?vue&type=template&id=baa81b30&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.conversations.length > 0\n      ? _vm.__map(_vm.conversations, function(conversation, key) {\n          var $orig = _vm.__get_orig(conversation)\n\n          var m0 = _vm.formatDate(conversation.lastMessage.timestamp)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.actionPopup.visible = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversations.vue?vue&type=script&lang=js&\"","<template>\r\n    <scroll-view class=\"conversations\" scroll-y=\"true\">\r\n\t\t<view v-if=\"conversations.length > 0\">\r\n\t\t\t<view class=\"scroll-item\" v-for=\"(conversation, key) in conversations\" :key=\"key\">\r\n\t\t\t\t<view class=\"item-head\">\r\n\t\t\t\t\t<image :src=\"conversation.data.avatar\" class=\"head-icon\"></image>\r\n\t\t\t\t\t<view class=\"item-head_unread\" v-if=\"conversation.unread\">{{conversation.unread}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"scroll-item_info\" @click=\"navigateToChat(conversation)\">\r\n\t\t\t\t\t<view class=\"item-info-top\">\r\n\t\t\t\t\t\t<text class=\"item-info-top_name\">{{conversation.data.name}}</text>\r\n\t\t\t\t\t\t<view class=\"item-info-top_time\">{{formatDate(conversation.lastMessage.timestamp)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-info-bottom\">\r\n\t\t\t\t\t\t<view class=\"item-info-bottom-item\">\r\n\t\t\t\t\t\t\t<view class=\"item-info-top_content\" v-if=\"!conversation.lastMessage.recalled\">\r\n\t\t\t\t\t\t\t\t<text class=\"unread-text\">{{conversation.lastMessage.read === false && conversation.lastMessage.senderId === currentUser.uuid?'[未读]':''}}</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"conversation.type === 'private'\">{{conversation.lastMessage.senderId === currentUser.uuid? '我': conversation.data.name}}:</text>\r\n\t\t\t\t\t\t\t\t<text v-else>{{conversation.lastMessage.senderId === currentUser.uuid? '我': conversation.lastMessage.senderData.name}}:</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"conversation.lastMessage.type === 'text'\">{{conversation.lastMessage.payload.text}}</text>\r\n\t\t\t\t\t\t\t\t<text v-else-if=\"conversation.lastMessage.type === 'video'\">[视频消息]</text>\r\n\t\t\t\t\t\t\t\t<text v-else-if=\"conversation.lastMessage.type === 'audio'\">[语音消息]</text>\r\n\t\t\t\t\t\t\t\t<text v-else-if=\"conversation.lastMessage.type === 'image'\">[图片消息]</text>\r\n\t\t\t\t\t\t\t\t<text v-else-if=\"conversation.lastMessage.type === 'file'\">[文件消息]</text>\r\n\t\t\t\t\t\t\t\t<text v-else-if=\"conversation.lastMessage.type === 'order'\">[自定义消息:订单]</text>\r\n\t\t\t\t\t\t\t\t<text v-else>[[未识别内容]]</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-info-top_content\" v-else>\r\n\t\t\t\t\t\t\t\t<text v-if=\"conversation.type === 'private'\">{{conversation.lastMessage.senderId === currentUser.uuid? '你': `\"${conversation.data.name}\"`}}撤回了一条消息</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"conversation.type === 'group'\">{{conversation.lastMessage.senderId === currentUser.uuid? '你': `\"${conversation.lastMessage.senderData.name}\"`}}撤回了一条消息</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item-info-bottom_action\" @click.stop=\"showAction(conversation)\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"no-conversation\" v-else>\r\n\t\t\t当前没有会话\r\n\t\t</view>\r\n\t\t<view class=\"action-container\" v-if=\"actionPopup.visible\">\r\n\t\t\t<view class=\"layer\" @click=\"actionPopup.visible = false\"></view>\r\n\t\t\t<view class=\"action-box\">\r\n\t\t\t\t<view class=\"action-item\" @click=\"topConversation\">{{actionPopup.conversation.top ? '取消置顶' : '置顶聊天'}}</view>\r\n\t\t\t\t<view class=\"action-item\" @click=\"deleteConversation\">删除聊天</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</scroll-view>\r\n</template>\r\n\r\n<script>\r\n\timport restApi from '../../lib/restapi';\r\n\texport default {\r\n\t\tname: 'conversation',\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tunreadTotal : 0,\r\n\t\t\t\tconversations : [],\r\n\r\n\t\t\t\tactionPopup : {\r\n\t\t\t\t\tconversation : null,\r\n\t\t\t\t\tvisible : false\r\n\t\t\t\t},\r\n\t\t\t\tcurrentUser: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow () {\r\n\t\t\tlet currentUser = uni.getStorageSync('currentUser');\r\n\t\t\tif(!currentUser){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.currentUser = currentUser;\r\n\r\n\t\t\tif(this.goEasy.getConnectionStatus() === 'disconnected') {\r\n\t\t\t\tthis.connectGoEasy();  //连接goeasy\r\n\t\t\t\tthis.subscribeGroup(); //建立连接后，就应该订阅群聊消息，避免漏掉\r\n\t\t\t}\r\n\t\t\tthis.listenConversationUpdate(); //监听会话列表变化\r\n\t\t\tthis.loadConversations(); //加载会话列表\r\n\t\t},\r\n\t\tmethods : {\r\n\t\t\tconnectGoEasy() {\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tthis.goEasy.connect({\r\n\t\t\t\t\tid: this.currentUser.uuid,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tname: this.currentUser.name,\r\n\t\t\t\t\t\tavatar: this.currentUser.avatar\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSuccess: () => {\r\n\t\t\t\t\t\tconsole.log('GoEasy connect successfully.')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFailed: (error) => {\r\n\t\t\t\t\t\tconsole.log('Failed to connect GoEasy, code:'+error.code+ ',error:'+error.content);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonProgress: (attempts) => {\r\n\t\t\t\t\t\tconsole.log('GoEasy is connecting', attempts);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 加载最新的会话列表\r\n\t\t\tloadConversations() {\r\n\t\t\t\tthis.goEasy.im.latestConversations({\r\n\t\t\t\t\tonSuccess: (result) => {\r\n\t\t\t\t\t\tlet content = result.content;\r\n\t\t\t\t\t\tthis.renderConversations(content);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFailed: (error) => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.log('获取最新会话列表失败, error:',error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tlistenConversationUpdate() {\r\n\t\t\t\t// 监听会话列表变化\r\n\t\t\t\tthis.goEasy.im.on(this.GoEasy.IM_EVENT.CONVERSATIONS_UPDATED, (content) => {\r\n\t\t\t\t\tthis.renderConversations(content);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsubscribeGroup() {\r\n\t\t\t\tlet groups = restApi.findGroups(this.currentUser);\r\n\t\t\t\tlet groupIds = groups.map(item => item.uuid);\r\n\t\t\t\tthis.goEasy.im.subscribeGroup({\r\n\t\t\t\t\tgroupIds: groupIds,\r\n\t\t\t\t\tonSuccess: function () {\r\n\t\t\t\t\t\tconsole.log('订阅群消息成功');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonFailed: function (error) {\r\n\t\t\t\t\t\tconsole.log('订阅群消息失败:', error);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttopConversation() {  //会话置顶\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tlet actionPopup = this.actionPopup;\r\n\t\t\t\tactionPopup.visible = false;\r\n\r\n\t\t\t\tlet conversation = actionPopup.conversation;\r\n\t\t\t\tlet failedDescription = conversation.top ? '取消置顶失败' : '置顶失败';\r\n\r\n\t\t\t\tif(conversation.type === this.GoEasy.IM_SCENE.PRIVATE){\r\n\t\t\t\t\tthis.goEasy.im.topPrivateConversation({\r\n\t\t\t\t\t\tuserId: conversation.userId,\r\n\t\t\t\t\t\ttop: !conversation.top,\r\n\t\t\t\t\t\tonSuccess: function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonFailed: function (error) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: failedDescription,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.goEasy.im.topGroupConversation({\r\n\t\t\t\t\t\tgroupId: conversation.groupId,\r\n\t\t\t\t\t\ttop: !conversation.top,\r\n\t\t\t\t\t\tonSuccess: function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonFailed: function (error) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: failedDescription,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteConversation() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tlet failedDescription = '删除失败';\r\n\t\t\t\tlet conversation = this.actionPopup.conversation;\r\n\t\t\t\tthis.actionPopup.visible = false;\r\n\r\n\t\t\t\tif(conversation.type === this.GoEasy.IM_SCENE.PRIVATE){\r\n\t\t\t\t\tthis.goEasy.im.removePrivateConversation({\r\n\t\t\t\t\t\tuserId: conversation.userId,\r\n\t\t\t\t\t\tonSuccess: function () {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonFailed: function (error) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: failedDescription,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.goEasy.im.removeGroupConversation({\r\n\t\t\t\t\t\tgroupId: conversation.groupId,\r\n\t\t\t\t\t\tonSuccess: function () {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tonFailed: function (error) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: failedDescription,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trenderConversations(content){\r\n\t\t\t\tthis.conversations = content.conversations;\r\n\t\t\t\tlet unreadTotal = content.unreadTotal;\r\n\t\t\t\tthis.setUnreadAmount(unreadTotal);\r\n\t\t\t},\r\n\t\t\tsetUnreadAmount (unreadTotal) {\r\n\t\t\t\tthis.unreadTotal = unreadTotal;\r\n\t\t\t\tif(this.unreadTotal > 0) {\r\n\t\t\t\t\tuni.setTabBarBadge({\r\n\t\t\t\t\t\tindex: 0,\r\n\t\t\t\t\t\ttext: this.unreadTotal.toString()\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.removeTabBarBadge({\r\n\t\t\t\t\t\tindex: 0\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavigateToChat (conversation) {\r\n\t\t\t\tlet path = conversation.type === this.GoEasy.IM_SCENE.PRIVATE\r\n\t\t\t\t\t\t? '../chat/privateChat/privateChat?to=' + conversation.userId\r\n\t\t\t\t\t\t: '../chat/groupChat/groupChat?to=' + conversation.groupId;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: path\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowAction (conversation) {\r\n\t\t\t\tthis.actionPopup.conversation = conversation;\r\n\t\t\t\tthis.actionPopup.visible = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage{ height: 100%; }\r\n\t.conversations{\r\n\t\twidth: 750rpx;\r\n\t\toverflow-x: hidden;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbox-sizing: border-box;\r\n\t\theight: 100%;\r\n\t}\r\n\t.conversations .scroll-item{\r\n\t\theight: 152rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding-left: 32rpx;\r\n\t}\r\n\t.conversations .scroll-item .head-icon{\r\n\t\twidth:100rpx;\r\n\t\theight: 100rpx;\r\n\t\tmargin-right: 28rpx;\r\n\t}\r\n\t.conversations .scroll-item_info{\r\n\t\theight: 151rpx;\r\n\t\twidth: 590rpx;\r\n\t\tpadding-right: 32rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-bottom: 1px solid #EFEFEF;\r\n\t}\r\n\t.conversations .scroll-item_info .item-info-top{\r\n\t\tpadding-top: 20rpx;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t}\r\n\t.conversations .item-info-top_name{\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: #262628;\r\n\t}\r\n\t.conversations .item-info-top_time{\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: rgba(179, 179, 179, 0.8);\r\n\t\tfont-family: Source Han Sans CN;\r\n\t}\r\n\t.conversations .item-info-bottom{\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.conversations .item-info-bottom-item{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.item-info-bottom .item-info-top_content{\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #b3b3b3;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow:ellipsis;\r\n\t\twhite-space: nowrap;\r\n\r\n\t}\r\n\r\n\t.item-info-bottom .item-info-bottom_action{\r\n\t\twidth:50rpx;\r\n\t\theight: 50rpx;\r\n\t\tfont-size: 20rpx;\r\n\t\tbackground: url(\"../../static/images/action.png\") no-repeat center;\r\n\t\tbackground-size: 28rpx 30rpx;\r\n\t}\r\n\t.no-conversation{\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #9D9D9D;\r\n\t}\r\n\t.item-head{\r\n\t\tposition: relative;\r\n\t}\r\n\t.item-head .item-head_unread{\r\n\t\tpadding: 6rpx;\r\n\t\tbackground-color: #EE593C;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 24rpx;\r\n\t\tline-height: 28rpx;\r\n\t\tborder-radius: 24rpx;\r\n\t\tmin-width: 24rpx;\r\n\t\tmin-height: 24rpx;\r\n\t\ttext-align: center;\r\n\t\tposition: absolute;\r\n\t\ttop:0;\r\n\t\tright: 15rpx;\r\n\t}\r\n\t.action-container{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.action-container .layer{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: rgba(51, 51, 51, 0.5);\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tz-index: 99;\r\n\t}\r\n\t.action-box{\r\n\t\twidth: 400rpx;\r\n\t\theight: 240rpx;\r\n\t\tbackground: #ffffff;\r\n\t\tposition: relative;\r\n\t\tz-index: 100;\r\n\t\tborder-radius: 20rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.action-item{\r\n\t\ttext-align: center;\r\n\t\tline-height: 120rpx;\r\n\t\tfont-size: 34rpx;\r\n\t\tcolor: #262628;\r\n\t\tborder-bottom: 1px solid #EFEFEF;\r\n\t}\r\n\r\n\t.unread-text {\r\n\t\tcolor: #618DFF;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversations.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./conversations.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1667471460918\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}