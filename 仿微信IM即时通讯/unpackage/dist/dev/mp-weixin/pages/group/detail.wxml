<view><cu-custom vue-id="469d09ec-1" isBack="{{true}}" bind:__l="__l" vue-slots="{{['content']}}"><view slot="content">{{data.title}}</view></cu-custom><view class="cu-list menu-avatar"><view class="cu-item"><view data-event-opts="{{[['tap',[['doPrevImg',['$0'],['data.group.pic']]]]]}}" class="cu-avatar radius lg" style="{{('background-image:url('+data.group.pic+');')}}" bindtap="__e"></view><view class="content flex-sub"><view class="text-grey">{{data.group.name}}</view><view class="text-gray text-sm flex justify-between">{{'ID:'+data.group.id+''}}<view class="text-gray text-lg"><text class="cuIcon-friend margin-lr-xs"></text>{{''+data.group.members+'人'}}<text class="cuIcon-time margin-right-xs margin-left"></text>{{''+data.group.datetime+''}}</view></view></view></view></view><view class="cu-list menu" style="margin-top:0;"><block wx:if="{{data.group.description!=''}}"><view class="cu-item" style="padding:20rpx 30rpx;"><view class="content"><text>群简介</text></view><view class="action" style="max-width:70%;"><text class="text-grey">{{data.group.description}}</text></view></view></block></view><block wx:if="{{data.group.notice!=''&&data.groupmember.status==1}}"><view class="padding bg-white margin-bottom solid-top"><scroll-view class="group-notice padding bg-grey light radius" scroll-y="{{true}}"><rich-text class="text-lg" nodes="{{data.group.notice}}" selectable="{{true}}"></rich-text></scroll-view></view></block><block wx:if="{{data.group.uid>0}}"><view class="cu-list menu solid-bottom"><view data-event-opts="{{[['tap',[['naviTo',['member/index',['o',['uid',data.group.uid]]]]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content"><text class="cuIcon-friendfamous text-green"></text>群主</view><view class="action"><text class="text-darkblue">{{data.group.nickname}}</text></view></view></view></block><view class="{{[data.groupmember.status==1?'':'margin-bottom']}}"><view class="cu-list menu solid-bottom"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="{{['cu-item','arrow','noaf',showqrcode?'arrow-up':'']}}" bindtap="__e"><view class="content"><text class="{{['cuIcon-qr_code','text-'+theme.actcolor]}}"></text><text>分享群</text></view></view><view class="{{['padding-lr-xl','bg-white',showqrcode?'':'hidden']}}"><view data-event-opts="{{[['tap',[['previewimg',['$0'],['data.qrcode']]]]]}}" class="padding-xs text-center account-qrcode" bindtap="__e"><image class="png qrcode" mode="widthFix" src="{{data.qrcode}}"></image><view class="qrcode-temp" style="{{('background-image:url('+data.group.pic+')')}}"></view></view><view class="margin-lr-xl flex flex-direction padding-bottom"><block wx:if="{{platform=='wxapp'}}"><button class="{{['cu-btn','lg','radius','bg-'+theme.actcolor]}}" open-type="share"><text>分享给好友</text></button></block><block wx:else><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="{{['cu-btn','lg','radius','bg-'+theme.actcolor]}}" bindtap="__e"><text>分享给好友</text></view></block></view></view></view></view><block wx:if="{{data.groupmember.status==1}}"><view><view class="cu-list menu"><view data-event-opts="{{[['tap',[['naviTo',['group/members',['o',['gid',data.group.id]]]]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content"><text class="cuIcon-group text-orange"></text>群成员</view><block wx:if="{{data.members.length>0}}"><view class="{{['action',data.applys>0?'newapply':'']}}" style="max-width:72%;"><block wx:if="{{data.applys>0}}"><view class="cu-tag badge">{{data.applys}}</view></block><view class="grid col-5"><block wx:for="{{data.members}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['naviTo',['member/index',['o',['uid',item.uid],['fg',data.group.id]]]]]]]}}" class="cu-avatar round sm padding-lr-xs nobg" catchtap="__e"><image class="round" mode="widthFix" src="{{item.avatar}}"></image></view></block></view></view></block></view><block wx:if="{{data.group.uid==userId}}"><view data-event-opts="{{[['tap',[['naviTo',['group/profile',['o',['gid',data.group.id]]]]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content"><text class="cuIcon-settings text-blue"></text><text>群资料</text></view></view></block><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content">我的群昵称</view><view class="action"><text class="text-grey">{{data.groupmember.nickname}}</text></view></view></view><block wx:if="{{data.group.uid==data.groupmember.uid}}"><view class="cu-list menu solid-top" style="margin-top:0;"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content">进群收费</view><view class="action"><block wx:if="{{data.group.fee>0}}"><text class="cu-tag round bg-red light">{{"￥"+data.group.fee}}</text></block><block wx:else><text class="{{['cu-tag','round','light','bg-'+theme.actcolor]}}">免费</text></block></view></view><view class="cu-item"><view class="content">全员禁言</view><view class="action"><switch class="{{['switch',data.group.allowpost==1?'':'checked']}}" data-id="allowpost" checked="{{data.group.allowpost==1?false:true}}" data-event-opts="{{[['change',[['SwitchSet',['$event']]]]]}}" bindchange="__e"></switch></view></view><view class="cu-item"><view class="content">成员保护</view><view class="action"><switch class="{{['switch',data.group.protective==0?'':'checked']}}" data-id="protective" checked="{{data.group.protective==0?false:true}}" data-event-opts="{{[['change',[['SwitchSet',['$event']]]]]}}" bindchange="__e"></switch></view></view><view class="cu-item"><view class="content">允许加入</view><view class="action"><switch class="{{['switch',data.group.allowjoin==0?'':'checked']}}" data-id="allowjoin" checked="{{data.group.allowjoin==0?false:true}}" data-event-opts="{{[['change',[['SwitchSet',['$event']]]]]}}" bindchange="__e"></switch></view></view><block wx:if="{{data.group.allowjoin==1}}"><view class="cu-item"><view class="content">加入需要审核</view><view class="action"><switch class="{{['switch',data.group.joinaudit==0?'':'checked']}}" data-id="joinaudit" checked="{{data.group.joinaudit==0?false:true}}" data-event-opts="{{[['change',[['SwitchSet',['$event']]]]]}}" bindchange="__e"></switch></view></view></block><view class="cu-item"><view class="content">隐藏群组</view><view class="action"><switch class="{{['switch',data.group.ishide==0?'':'checked']}}" data-id="ishide" checked="{{data.group.ishide==0?false:true}}" data-event-opts="{{[['change',[['SwitchSet',['$event']]]]]}}" bindchange="__e"></switch></view></view></view></block><view class="cu-list menu text-darkblue text-center"><block wx:if="{{frompage=='dialog'}}"><view data-event-opts="{{[['tap',[['doBack']]]]}}" class="cu-item" bindtap="__e"><view class="content"><text class="text-lg">开始聊天</text></view></view></block><block wx:else><view data-event-opts="{{[['tap',[['naviTo',['dialog/index',['o',['cid',data.group.id],['type','group']]]]]]]}}" class="cu-item" bindtap="__e"><view class="content"><text class="text-lg">开始聊天</text></view></view></block><view data-event-opts="{{[['tap',[['doExitGroup']]]]}}" class="cu-item" bindtap="__e"><view class="content"><text class="text-lg text-red">{{data.group.uid==data.groupmember.uid?'解散群组':'退出群聊'}}</text></view></view></view></view></block><block wx:else><block wx:if="{{data.group.allowjoin==1}}"><view class="cu-list menu text-darkblue text-center"><view data-event-opts="{{[['tap',[['doJoinGroup']]]]}}" class="cu-item" bindtap="__e"><block wx:if="{{data.group.fee>0}}"><view class="content"><text class="text-lg">付费进群</text><text class="text-lg text-red">{{"（￥"+data.group.fee+"）"}}</text></view></block><block wx:else><view class="content"><text class="text-lg">申请加入群聊</text></view></block></view></view></block></block><block wx:if="{{data.group.uid==userId}}"><view class="{{['cu-modal',showmodal=='editfee'?'show':'']}}"><view class="cu-dialog"><view class="cu-bar bg-white justify-end"><view class="content">进群收费</view><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-close text-red"></text></view></view><view><view class="cu-form-group text-left"><input type="digit" placeholder="输入进群费用(元),0为免费" name="fee" data-event-opts="{{[['input',[['__set_model',['$0','fee','$event',[]],['postdata']]]]]}}" value="{{postdata.fee}}" bindinput="__e"/></view></view><view class="cu-bar bg-white justify-end"><view class="action"><button data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" class="cu-btn text-gray" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['e6',['$event']]]]]}}" class="cu-btn line-green margin-left-sm" bindtap="__e">免费</button><button data-event-opts="{{[['tap',[['doEdit',['fee']]]]]}}" class="{{['cu-btn','margin-left-sm','bg-'+theme.actcolor]}}" bindtap="__e">确定</button></view></view></view></view></block><block wx:if="{{data.groupmember.status==1}}"><view class="{{['cu-modal',showmodal=='nickname'?'show':'']}}"><view class="cu-dialog"><view class="cu-bar bg-white justify-end"><view class="content">修改群昵称</view><view data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-close text-red"></text></view></view><view><view class="cu-form-group text-left"><input type="text" placeholder="输入新的群昵称" name="nickname" data-event-opts="{{[['input',[['__set_model',['$0','nickname','$event',[]],['postdata']]]]]}}" value="{{postdata.nickname}}" bindinput="__e"/></view></view><view class="cu-bar bg-white justify-end"><view class="action"><button data-event-opts="{{[['tap',[['e8',['$event']]]]]}}" class="cu-btn line-green text-gray" bindtap="__e">取消</button><button data-event-opts="{{[['tap',[['doEdit',['nickname']]]]]}}" class="{{['cu-btn','margin-left','bg-'+theme.actcolor]}}" bindtap="__e">确定</button></view></view></view></view></block><share vue-id="469d09ec-2" shareinfo="{{shareinfo}}" showshare="{{showshare}}" data-event-opts="{{[['^closeshare',[['e9']]]]}}" bind:closeshare="__e" bind:__l="__l"></share></view>