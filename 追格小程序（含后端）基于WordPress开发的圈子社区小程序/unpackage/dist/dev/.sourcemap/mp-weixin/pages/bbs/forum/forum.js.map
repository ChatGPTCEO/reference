{"version":3,"sources":["uni-app:///main.js","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?7b77","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?3b39","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?c46a","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?1652","uni-app:///pages/bbs/forum/forum.vue","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?fec2","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/forum/forum.vue?ee66"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/bbs/forum/forum.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/bbs/forum/forum.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./forum.vue?vue&type=template&id=dd846824&\"\nvar renderjs\nimport script from \"./forum.vue?vue&type=script&lang=js&\"\nexport * from \"./forum.vue?vue&type=script&lang=js&\"\nimport style0 from \"./forum.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bbs/forum/forum.vue\"\nexport default component.exports","export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum.vue?vue&type=template&id=dd846824&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<uni-nav-bar leftIcon=\"back\" @clickLeft=\"clickBack\" :title=\"title\" :fixed=\"true\" :statusBar=\"true\"\r\n\t\t\t:opacity=\"nav_opacity\" :placeholder=\"false\">\r\n\t\t</uni-nav-bar>\r\n\t\t<!-- #ifndef MP-BAIDU -->\r\n\t\t<view v-if=\"nav_opacity<0.01\" class=\"zhuige-nav-back\" :style=\"{top: statusBarHeight + 'px'}\">\r\n\t\t\t<uni-icons type=\"back\" size=\"24\" color=\"#FFFFFF\"></uni-icons>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\r\n\t\t<!-- 圈子头部背景 -->\r\n\t\t<view v-if=\"forum\" class=\"zhuige-topic-header\">\r\n\t\t\t<view class=\"zhuige-topic-bg\">\r\n\t\t\t\t<view class=\"zhuige-topic-mask\"></view>\r\n\t\t\t\t<image mode=\"aspectFill\" :src=\"forum.background\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"zhuige-coterie-info\">\r\n\t\t\t<!-- 圈子头部信息 -->\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-classify-box\">\r\n\t\t\t\t\t<view class=\"zhuige-classify-block\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<image mode=\"aspectFill\" :src=\"forum.logo\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"zhuige-classify-text\">\r\n\t\t\t\t\t\t\t<view>{{forum.name}}</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<text>{{forum.user_count}}成员</text>\r\n\t\t\t\t\t\t\t\t<text>/</text>\r\n\t\t\t\t\t\t\t\t<text>{{forum.post_count}}作品</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"clickJoinForum\" class=\"zhuige-classify-join\">\r\n\t\t\t\t\t\t<view v-if=\"forum.is_follow\">已加入</view>\r\n\t\t\t\t\t\t<view v-else>+加入</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 公告/推荐/位置 -->\r\n\t\t\t\t<view v-if=\"forum.notice\" class=\"zhuige-coterie-line\" @click=\"clickNotice\">\r\n\t\t\t\t\t<view :style=\"'white-space: ' + (show_notice?'inherit':'nowrap') + ';'\">\r\n\t\t\t\t\t\t<text>公告</text>\r\n\t\t\t\t\t\t<text>{{forum.notice}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<uni-icons :type=\"show_notice?'bottom':'right'\" color=\"#aaaaaa\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"forum.ad_link && forum.ad_link.title\" class=\"zhuige-coterie-line\"\r\n\t\t\t\t\t@click=\"openLink(forum.ad_link.link)\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text>推荐</text>\r\n\t\t\t\t\t\t<text class=\"single-line\">{{forum.ad_link.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#aaaaaa\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view v-if=\"forum.location && (forum.location.marker || forum.location.address)\" @click=\"clickLocation\"\r\n\t\t\t\t\tclass=\"zhuige-coterie-line\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<text>位置</text>\r\n\t\t\t\t\t\t<text>{{forum.location.marker}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#aaaaaa\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view v-if=\"forum && forum.users.length>0\" class=\"zhuige-coterie-user\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-block-head\">\r\n\t\t\t\t\t<view>圈子成员</view>\r\n\t\t\t\t\t<view @click=\"openLink('/pages/bbs/forum-users/forum-users?forum_id=' + forum.id)\">查看更多</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 用户列表模块 滚动模式 -->\r\n\t\t\t\t<zhuige-scroll-user :users=\"forum.users\"></zhuige-scroll-user>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 自定义滚动广告 -->\r\n\t\t<view v-if=\"forum.ad_custom && forum.ad_custom.length>0\" class=\"zhuige-detail-ad\">\r\n\t\t\t<zhuige-scroll-ad ext-ad-class=\"zhuige-scroll-goods-mini\" :items=\"forum.ad_custom\"></zhuige-scroll-ad>\r\n\t\t</view>\r\n\r\n\t\t<!-- <zhuige-tab :tabs=\"tabs\" cur-tab=\"1\"></zhuige-tab> -->\r\n\r\n\t\t<view class=\"zhuige-tab-block\">\r\n\t\t\t<!-- 圈子列表 近期tab -->\r\n\t\t\t<view class=\"zhuige-social-list\">\r\n\t\t\t\t<template v-if=\"topics && topics.length>0\">\r\n\t\t\t\t\t<zhuige-topic v-for=\"(topic, index) in topics\" :key=\"index\" :topic=\"topic\"></zhuige-topic>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<zhuige-nodata v-if=\"loaded\"></zhuige-nodata>\r\n\t\t\t\t</template>\r\n\t\t\t</view>\r\n\r\n\t\t\t<uni-load-more v-if=\"topics && topics.length>0\" :status=\"loadMore\"></uni-load-more>\r\n\t\t</view>\r\n\r\n\t\t<!-- 浮动发布 -->\r\n\t\t<view @click=\"clickPost\" class=\"zhuige-coterie-post\">\r\n\t\t\t<uni-icons type=\"plusempty\" color=\"#FFFFFF\" size=\"28\"></uni-icons>\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部自定义菜单 -->\r\n\t\t<view v-if=\"forum.ad_menu && forum.ad_menu.length>0\" class=\"zhuige-coterie-menu\">\r\n\t\t\t<view v-for=\"(item, index) in forum.ad_menu\" :key=\"index\" @click=\"openLink(item.link)\">{{item.title}}</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Util from '@/utils/util';\r\n\timport Alert from '@/utils/alert';\r\n\timport Api from '@/utils/api';\r\n\timport Rest from '@/utils/rest';\r\n\r\n\timport ZhuigeTopic from \"@/components/zhuige-topic\";\r\n\timport ZhuigeScrollUser from \"@/components/zhuige-scroll-user\";\r\n\timport ZhuigeScrollAd from \"@/components/zhuige-scroll-ad\";\r\n\timport ZhuigeTab from \"@/components/zhuige-tab\";\r\n\timport ZhuigeNodata from \"@/components/zhuige-nodata\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\tthis.forum_id = undefined;\r\n\r\n\t\t\t// 是否需要重新加载圈子信息\r\n\t\t\tthis.reloadDetail = false;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tnav_opacity: 0,\r\n\t\t\t\tstatusBarHeight: 0,\r\n\r\n\t\t\t\t// tabs: [{\r\n\t\t\t\t// \t\tid: 1,\r\n\t\t\t\t// \t\ttitle: '近期'\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \t{\r\n\t\t\t\t// \t\tid: 2,\r\n\t\t\t\t// \t\ttitle: '关注'\r\n\t\t\t\t// \t},\r\n\t\t\t\t// ],\r\n\r\n\t\t\t\tshow_notice: false,\r\n\r\n\t\t\t\tforum: undefined,\r\n\r\n\t\t\t\ttopics: [],\r\n\t\t\t\tloadMore: 'more',\r\n\t\t\t\tloaded: false,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\ttitle() {\r\n\t\t\t\tif (this.forum) {\r\n\t\t\t\t\treturn this.forum.name;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn '圈子';\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\tZhuigeTopic,\r\n\t\t\tZhuigeScrollUser,\r\n\t\t\tZhuigeScrollAd,\r\n\t\t\tZhuigeTab,\r\n\t\t\tZhuigeNodata\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tUtil.addShareScore(options.source);\r\n\r\n\t\t\tif (!options.forum_id) {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/tabs/index/index'\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.statusBarHeight = uni.getSystemInfoSync().statusBarHeight;\r\n\r\n\t\t\tthis.forum_id = options.forum_id;\r\n\t\t\tthis.refresh();\r\n\r\n\t\t\tuni.$on('zhuige_event_user_join_forum', this.onSetReloadDetail);\r\n\t\t\tuni.$on('zhuige_event_user_like', this.onUserLike);\r\n\t\t},\r\n\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('zhuige_event_user_like', this.onUserLike);\r\n\t\t\tuni.$off('zhuige_event_user_join_forum', this.onSetReloadDetail);\r\n\t\t},\r\n\r\n\t\tonShow() {\r\n\t\t\tif (this.reloadDetail) {\r\n\t\t\t\tthis.reloadDetail = false;\r\n\r\n\t\t\t\tthis.loadDetail();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonPageScroll(e) {\r\n\t\t\tthis.nav_opacity = (e.scrollTop > 255 ? 255 : e.scrollTop) / 255;\r\n\t\t\tif (e.scrollTop > 20) {\r\n\t\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\t\tfrontColor: '#000000',\r\n\t\t\t\t\tbackgroundColor: '#ffffff',\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\t\tfrontColor: '#ffffff',\r\n\t\t\t\t\tbackgroundColor: '#ffffff'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonReachBottom() {\r\n\t\t\tif (this.loadMore == 'more') {\r\n\t\t\t\tthis.loadTopics(false);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.forum.name + '-' + getApp().globalData.appName,\r\n\t\t\t\tpath: Util.addShareSource('pages/bbs/forum/forum?forum_id=' + this.forum_id)\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tonShareTimeline() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.forum.name + '-' + getApp().globalData.appName,\r\n\t\t\t};\r\n\t\t},\r\n\t\t// #endif\r\n\r\n\t\tmethods: {\r\n\t\t\t//----- event start -----\r\n\t\t\t/**\r\n\t\t\t * 登录事件\r\n\t\t\t */\r\n\t\t\tonSetReloadDetail(data) {\r\n\t\t\t\tthis.reloadDetail = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * 点赞事件\r\n\t\t\t */\r\n\t\t\tonUserLike(data) {\r\n\t\t\t\tif (this.topics && this.topics.length>0) {\r\n\t\t\t\t\tthis.topics.forEach((topic) => {\r\n\t\t\t\t\t\tif (topic.id == data.post_id) {\r\n\t\t\t\t\t\t\ttopic.like_count = data.like_count;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//----- event end -----\r\n\r\n\t\t\t/**\r\n\t\t\t * 刷新\r\n\t\t\t */\r\n\t\t\trefresh() {\r\n\t\t\t\tthis.loadDetail();\r\n\t\t\t\tthis.loadTopics(true);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 返回上一页\r\n\t\t\t */\r\n\t\t\tclickBack() {\r\n\t\t\t\tUtil.navigateBack();\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 打开链接\r\n\t\t\t */\r\n\t\t\topenLink(link) {\r\n\t\t\t\tUtil.openLink(link);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 公告\r\n\t\t\t */\r\n\t\t\tclickNotice() {\r\n\t\t\t\tthis.show_notice = !this.show_notice;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 点击加入圈子\r\n\t\t\t */\r\n\t\t\tclickJoinForum() {\r\n\t\t\t\tRest.post(Api.URL('user', 'follow_forum'), {\r\n\t\t\t\t\tforum_id: this.forum_id,\r\n\t\t\t\t\tuser: 1,\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.forum.is_follow = res.data.is_follow;\r\n\t\t\t\t\t\tthis.forum.user_count = res.data.user_count;\r\n\t\t\t\t\t\tthis.forum.users = res.data.users;\r\n\r\n\t\t\t\t\t\tuni.$emit('zhuige_event_user_join_forum', {\r\n\t\t\t\t\t\t\tforum_id: this.forum_id,\r\n\t\t\t\t\t\t\tuser_count: res.data.user_count,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.reloadDetail = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tAlert.toast(res.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 点击发布\r\n\t\t\t */\r\n\t\t\tclickPost() {\r\n\t\t\t\tUtil.openLink('/pages/bbs/post/post?type=image');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 点击打开位置\r\n\t\t\t */\r\n\t\t\tclickLocation() {\r\n\t\t\t\tuni.openLocation({\r\n\t\t\t\t\tname: this.forum.location.marker,\r\n\t\t\t\t\taddress: this.forum.location.address,\r\n\t\t\t\t\tlatitude: parseFloat(this.forum.location.latitude),\r\n\t\t\t\t\tlongitude: parseFloat(this.forum.location.longitude),\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 加载圈子详情\r\n\t\t\t */\r\n\t\t\tloadDetail() {\r\n\t\t\t\tRest.post(Api.URL('bbs', 'forum_detail'), {\r\n\t\t\t\t\tforum_id: this.forum_id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.forum = res.data.forum;\r\n\t\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 加载帖子\r\n\t\t\t */\r\n\t\t\tloadTopics(refresh) {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\toffset: refresh ? 0 : this.topics.length\r\n\t\t\t\t};\r\n\r\n\t\t\t\turl = Api.URL('bbs', 'topic_list_forum');\r\n\t\t\t\tparams.forum_id = this.forum_id;\r\n\t\t\t\tRest.post(url, params).then(res => {\r\n\t\t\t\t\tthis.topics = refresh ? res.data.topics : this.topics.concat(res.data.topics);\r\n\t\t\t\t\tthis.loadMore = 'nomore';\r\n\t\t\t\t\tthis.loaded = true;\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground: #f5f5f5;\r\n\t}\r\n\r\n\t.content {\r\n\t\tpadding-bottom: 180rpx;\r\n\t}\r\n\r\n\t.zhuige-nav-back {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tpadding: 0 20rpx;\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.zhuige-topic-header,\r\n\t.zhuige-topic-bg,\r\n\t.zhuige-topic-mask {\r\n\t\theight: 480rpx;\r\n\t}\r\n\r\n\t.zhuige-topic-bg image {\r\n\t\theight: 560rpx;\r\n\t}\r\n\r\n\t.zhuige-classify-box {\r\n\t\tmargin-top: -100rpx;\r\n\t}\r\n\r\n\t.zhuige-classify-join {\r\n\t\tmargin-top: -84rpx;\r\n\t}\r\n\r\n\t.zhuige-classify-text view {\r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 70rpx;\r\n\t}\r\n\r\n\t.zhuige-coterie-line {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 12rpx 0;\r\n\t\tborder-bottom: 1rpx solid #EEEEEE;\r\n\t}\r\n\r\n\t.zhuige-coterie-line:last-of-type {\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.zhuige-coterie-line view:nth-child(1) {\r\n\t\twidth: 92%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.zhuige-coterie-line view:nth-child(1) text:nth-child(1) {\r\n\t\tfont-size: 22rpx;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground: #010101;\r\n\t\tpadding: 0 24rpx;\r\n\t\theight: 2em;\r\n\t\tline-height: 2em;\r\n\t\tborder-radius: 36rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.zhuige-coterie-line view:nth-child(1) text:nth-child(2) {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 400;\r\n\t\tpadding: 4rpx 0;\r\n\t\twidth: 660rpx;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\n\t.single-line {\n\t\twhite-space: nowrap;\n\t}\r\n\r\n\t.zhuige-detail-ad {\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.zhuige-coterie-post {\r\n\t\tposition: fixed;\r\n\t\tright: 30rpx;\r\n\t\tbottom: 280rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\twidth: 80rpx;\r\n\t\tborder-radius: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tbackground: #010101;\r\n\t}\r\n\r\n\t.zhuige-coterie-menu {\r\n\t\tdisplay: flex;\r\n\t\tposition: fixed;\r\n\t\talign-items: center;\r\n\t\tbottom: 0;\r\n\t\tz-index: 19;\r\n\t\twidth: 100%;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tpadding: 20rpx 0 40rpx;\r\n\t\tjustify-content: center;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0rpx 0rpx 6rpx rgba(66, 66, 66, 0.1);\r\n\t}\r\n\r\n\t.zhuige-coterie-menu view {\r\n\t\twidth: 25%;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 400;\r\n\t\tborder-right: 1rpx solid #EEEEEE;\r\n\t}\r\n</style>\n","import mod from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./forum.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663750670297\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}