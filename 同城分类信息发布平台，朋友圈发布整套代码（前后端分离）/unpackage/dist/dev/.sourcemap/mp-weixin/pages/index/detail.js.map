{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?b075","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?7e88","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?6329","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?1b51","uni-app:///pages/index/detail.vue","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?3744","webpack:///C:/Users/will/Documents/GitHub/reference/同城分类信息发布平台，朋友圈发布整套代码（前后端分离）/pages/index/detail.vue?c1c5"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/index/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/index/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5166ee27&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=5166ee27&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5166ee27\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=5166ee27&scoped=true&\"","var components\ntry {\n  components = {\n    uAvatar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-avatar/u-avatar\" */ \"@/uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uLazyLoad: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-lazy-load/u-lazy-load\" */ \"@/uview-ui/components/u-lazy-load/u-lazy-load.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uSection: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-section/u-section\" */ \"@/uview-ui/components/u-section/u-section.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.detail.avatar ? _vm.detail.avatar.indexOf(\"https\") : null\n  var g1 = _vm.$u.timeForm(_vm.detail.updatetime)\n  var l0 = _vm.detail.images ? _vm.utils.strToarr(_vm.detail.images) : null\n\n  var l1 = _vm.__map(_vm.comments, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g2 = item.avatar.indexOf(\"https\")\n    var g3 = _vm.$u.timeForm(item.createtime)\n    return {\n      $orig: $orig,\n      g2: g2,\n      g3: g3\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n\n      var _temp, _temp2\n\n      return _vm.review(index)\n    }\n\n    _vm.e1 = function($event) {\n      _vm.focused = true\n    }\n\n    _vm.e2 = function($event, item) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        item = _temp4.item\n\n      var _temp3, _temp4\n\n      _vm.placeholder = \"回复\" + item.nickname\n      _vm.to_id = item.user_id\n      _vm.focused = true\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"u-p-30\">\r\n\t\t<view class=\"comment-top\">\r\n\t\t\t<view class=\"top u-flex u-row-between u-border-bottom\">\r\n\t\t\t\t<view class=\"u-flex\" @click=\"toUser(detail.user_id)\">\r\n\t\t\t\t\t<view class=\"u-m-r-20\" v-if=\"detail.avatar\">\r\n\t\t\t\t\t\t<u-avatar :src=\"detail.avatar.indexOf('https')==-1?baseUrl+detail.avatar:detail.avatar\" ></u-avatar>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"u-line-1\" style=\"max-width: 40vw\">{{detail.nickname}}</view>\r\n\t\t\t\t\t\t<view class=\"u-font-sm u-light-color\">{{$u.timeForm(detail.updatetime)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-right\">\r\n\t\t\t\t\t<u-button :type=\"isFocus?'':'primary'\" size=\"mini\" @click=\"focus\">{{isFocus?'已关注':'关注'}}</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-lg u-main-color u-p-b-20 u-m-t-20\" style=\"line-height: 60rpx;white-space:pre-wrap;\">{{detail.content}}</u-parse>\r\n\t\t\t</view>\r\n\t\t\t<block v-if=\"detail.images\">\r\n\t\t\t\t<view class=\"u-m-b-10\" v-for=\"(item,index) in utils.strToarr(detail.images)\" :key=\"index\"><u-lazy-load :image=\"item\" :loading-img=\"loadingImg\" :error-img=\"errorImg\" threshold=\"-700\" border-radius=\"20\"  @click=\"review(index)\"></u-lazy-load>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t<view class=\"u-flex u-row-between u-p-t-20 text-lg u-tips-color\">\r\n\t\t\t\t<view class=\"u-flex-1\">\r\n\t\t\t\t\t<u-icon name=\"star\" label=\"收藏\" :color=\"isCollect?'red':''\" @click=\"collect\" v-if=\"detail.type==1\"></u-icon>\r\n\t\t\t\t\t<u-icon name=\"eye\" :label=\"detail.pv\" class=\"u-m-l-20\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"u-flex-1 u-flex u-row-around\">\r\n\t\t\t\t\t<u-icon name=\"heart\" :label=\"detail.likes?detail.likes:'点赞'\" :color=\"isLike?'red':''\" @click=\"like\">\r\n\t\t\t\t\t</u-icon>\r\n\t\t\t\t\t<u-icon name=\"chat\" :label=\"detail.comments?detail.comments:'评论'\" @click=\"focused=true\">\r\n\t\t\t\t\t</u-icon>\r\n\t\t\t\t\t<u-icon name=\"zhuanfa\" label=\"分享\" @click=\"share\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\" u-p-t-60 u-m-b-80\">\r\n\t\t\t<u-section :title=\"'评论区（'+detail.comments+'）'\" lineColor=\"#128b80\"></u-section>\r\n\t\t\t<view class=\"u-m-t-20\">\r\n\t\t\t\t<block v-for=\"(item,index) in comments\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"u-flex u-col-top u-p-20 u-border-bottom\"\r\n\t\t\t\t\t\t@click=\"placeholder = '回复' + item.nickname;to_id = item.user_id;focused = true;\">\r\n\t\t\t\t\t\t<view class=\"u-flex-col u-col-center\" @click=\"toUser(item.user_id)\">\r\n\t\t\t\t\t\t\t<u-avatar :src=\"item.avatar.indexOf('https')==-1?baseUrl+item.avatar:item.avatar\" ></u-avatar>\r\n\t\t\t\t\t\t\t<text class=\"u-p-t-10 u-light-color\">{{index+1}}楼</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"u-p-l-20\">\r\n\t\t\t\t\t\t\t<view class=\" u-tips-color\">{{item.user_id==detail.user_id?'楼主':item.nickname}}</view>\r\n\t\t\t\t\t\t\t<view class=\"u-light-color\">{{$u.timeForm(item.createtime)}}</view>\r\n\t\t\t\t\t\t\t<view class=\"u-main-color u-p-t-10\">\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.to_id>0\">回复<text\r\n\t\t\t\t\t\t\t\t\t\tclass=\"text-blue\">{{item.to_nickname}}</text>：</text>{{item.content}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n<u-loadmore :status=\"status\" @loadmore=\"loadmore\"/>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"phone-icon u-flex u-col-center u-row-center bg-gradual-blue u-m-t-30 \" v-if=\"detail.show_mobile==2?true:(detail.show_mobile==1&&vuex_token)?true:false\" @click=\"call\">\r\n\t\t\t\t<u-icon name=\"phone\" size=\"40\"></u-icon>\r\n\t\t\t\t<view class=\"phone-out\"></view>\r\n\t\t\t</view>\r\n\t\t<view class=\"bottom\">\r\n\t\t\t<u-search \r\n\t\t\tref=\"comment\"\r\n\t\t\tv-model=\"content\" \r\n\t\t\tcursor-spacing=\"10\"\r\n\t\t\tconfirm-type=\"send\"\r\n\t\t\tsearch-icon=\"chat\" \r\n\t\t\t:placeholder=\"placeholder?placeholder:'在此输入评论'\" \r\n\t\t\tbg-color=\"rgba(255,255,255,0.5)\" \r\n\t\t\tborder-color=\"#1296bd\" \r\n\t\t\t:show-action=\"true\" \r\n\t\t\taction-text=\"评论\" \r\n\t\t\t:input-style=\"{background:'transparent'}\" \r\n\t\t\t:focus=\"focused\"\r\n\t\t\t:action-style=\"{borderRadius:'30rpx',background:'#1296DB',height:'60rpx',lineHeight:'60rpx',color:'white'}\" \r\n\t\t\t:animation=\"true\" \r\n\t\t\t@custom=\"comment\"\r\n\t\t\t@search=\"comment\">\r\n\t\t\t</u-search>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tsetClipboardData\r\n\t} from '@/common/clipboard'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbaseUrl: this.$u.http.config.baseUrl,\r\n\t\t\t\tloadingImg:'/static/img/loading.jpg',\r\n\t\t\t\terrorImg:'/static/img/err.png',\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tcomments: [],\r\n\t\t\t\tplaceholder: '',\r\n\t\t\t\tto_id: 0,\r\n\t\t\t\tfocused: false,\r\n\t\t\t\tisFocus: false,\r\n\t\t\t\tisCollect: false,\r\n\t\t\t\tisLike: false,\r\n\t\t\t\tpage:0,\r\n\t\t\t\tid:0,\r\n\t\t\t\tread:0,\r\n\t\t\t\tuser_id:0,\r\n\t\t\t\tstatus:'loadmore',\r\n\t\t\t\tcontent:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tasync onLoad(e) {\r\n\t\t\tthis.id=e.id\r\n\t\t\tthis.read=e.read\r\n\t\t\tthis.user_id=e.user_id\r\n\t\t\tawait this.getData()\r\n\t\t\t// this.$u.mpShare.title=this.detail.content.substr(0,20)\r\n\t\t\tthis.$u.mpShare = {\r\n\t\t\t\ttitle: this.detail.content.substr(0,50), \r\n\t\t\t\tpath: '', \r\n\t\t\t\t\r\n\t\t\t\timageUrl: this.detail.images?this.utils.strToarr(this.detail.images)[0]:''\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tloadmore(){\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\tasync getData(){\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tpage:this.page,\r\n\t\t\t\t\tid:this.id,\r\n\t\t\t\t}\r\n\t\t\t\tif(this.read==1){\r\n\t\t\t\t\tparams.read = this.read\r\n\t\t\t\t}\r\n\t\t\t\tif(this.user_id>0){\r\n\t\t\t\t\tparams.user_id = this.user_id\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await this.$u.api.forumDetail(params)\r\n\t\t\t\tif(this.page==0){\r\n\t\t\t\t\tthis.detail = res.data.detail\r\n\t\t\t\t}\r\n\t\t\t\tif(res.data.comment.length<10){\r\n\t\t\t\t\tthis.status='nomore'\r\n\t\t\t\t}\r\n\t\t\t\tthis.comments = [...this.comments,...res.data.comment]\r\n\t\t\t},\r\n\t\t\ttoUser(uid) {//去用户\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"../user/detail?id=\" + uid\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\r\n\t\t\tasync focus() { //关注\r\n\t\t\t\tif (this.vuex_user.id == this.detail.user_id)\r\n\t\t\t\t\treturn this.$u.toast('不能关注自己')\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tuser_id: this.vuex_user.id,\r\n\t\t\t\t\tpid: this.detail.user_id,\r\n\t\t\t\t\tfocus: this.isFocus ? 0 : 1,\r\n\t\t\t\t\ttype: 0\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await this.$u.api.focus(params)\r\n\t\t\t\tthis.isFocus = !this.isFocus\r\n\t\t\t\tthis.$u.toast(res.msg)\r\n\t\t\t},\r\n\t\t\tasync like() { //点赞\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tuser_id: this.vuex_user.id,\r\n\t\t\t\t\ttopic_id: this.detail.id,\r\n\t\t\t\t\tlike: this.isLike ? 0 : 1,\r\n\t\t\t\t\ttype: 1\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await this.$u.api.like(params)\r\n\t\t\t\tthis.$u.toast(res.msg)\r\n\t\t\t\tthis.isLike = !this.isLike\r\n\t\t\t\tif (this.isLike) {\r\n\t\t\t\t\tthis.detail.likes++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.detail.likes--;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tasync collect() { //收藏\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tuser_id: this.vuex_user.id,\r\n\t\t\t\t\ttopic_id: this.detail.id,\r\n\t\t\t\t\tcollect: this.isCollect?0:1,\r\n\t\t\t\t\ttype:2\r\n\t\t\t\t}\r\n\t\t\t\tconst res = await this.$u.api.collect(params)\r\n\t\t\t\tthis.isCollect = !this.isCollect\r\n\t\t\t\tthis.$u.toast(res.msg)\r\n\t\t\t},\r\n\t\tasync share() {\r\n\t\t\tconst res = await setClipboardData(this.detail.content.substr(0,20)+'··· http://m.xidicom.cn/pages/index/detail?id='+this.detail.id);\r\n\t\t\tif (res != 'undefined') {\r\n\t\t\t\tthis.$u.toast('分享链接已复制')\r\n\t\t\t}\r\n\t\t},\r\n\t\t\treview(e) { //预览\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: e,\r\n\t\t\t\t\turls: this.utils.strToarr(this.detail.images),\r\n\t\t\t\t\tindicator: 'number',\r\n\t\t\t\t\tloop: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tasync comment(value) { //评论\r\n\t\t\t\tif (this.$u.test.isEmpty(value))\r\n\t\t\t\t\treturn this.$u.toast('评论内容不能为空');\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tuser_id: this.vuex_user.id,\r\n\t\t\t\t\ttopic_id: this.detail.id,\r\n\t\t\t\t\tcontent: value,\r\n\t\t\t\t\ttype: 3,\r\n\t\t\t\t}\r\n\t\t\t\tif (this.to_id > 0) params.to_id = this.to_id;\r\n\t\t\t\tconst res = await this.$u.api.comment(params)\r\n\t\t\t\tif (res.code==1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.$refs.comment.clear()\r\n\t\t\t\t\t\tthis.page=0\r\n\t\t\t\t\t\tthis.status='loadmore'\r\n\t\t\t\t\t\tthis.comments=[]\r\n\t\t\t\t\t\tthis.getData()\r\n\t\t\t\t\t\tuni.createSelectorQuery().select(\".comment-top\").boundingClientRect(res => {\r\n\t\t\t\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\t\t\t\tscrollTop: res.height + 15,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}).exec()\r\n\t\t\t\t\t},1500)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync call() {\r\n\t\t\t\tconst phone = await this.$u.api.getMobile({\r\n\t\t\t\t\tid: this.detail.user_id\r\n\t\t\t\t})\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: phone.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t\r\n\t.bottom {\r\n\t\tposition: fixed;\r\n\t\tbottom: 10rpx;\r\n\t\tleft: 30rpx;\r\n\t\tright: 30rpx;\r\n\t}\r\n\r\n\t.phone-icon {\r\n\t\tposition: fixed;\r\n\t\tbottom: 10%;\r\n\t\tright: 30rpx;\r\n\t\tz-index: 9;\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.phone-out {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tz-index: -1;\r\n\t\tposition: absolute;\r\n\t\ttop: calc(50% - 40rpx);\r\n\t\tright: calc(50% - 40rpx);\r\n\t\tanimation: wave 2s linear 1s infinite;\r\n\t\tbackground: rgba(255, 0, 0, 0.6);\r\n\t}\r\n\r\n\t@keyframes wave {\r\n\t\t0% {\r\n\t\t\ttransform: scale(1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1.5);\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=5166ee27&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=5166ee27&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668772024286\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}