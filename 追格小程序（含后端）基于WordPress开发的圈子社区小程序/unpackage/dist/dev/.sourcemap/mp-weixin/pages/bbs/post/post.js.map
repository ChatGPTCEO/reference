{"version":3,"sources":["uni-app:///main.js","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?aa4c","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?0eb0","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?0109","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?ca36","uni-app:///pages/bbs/post/post.vue","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?865a","webpack:///D:/reference/追格小程序（含后端）基于WordPress开发的圈子社区小程序/pages/bbs/post/post.vue?214c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/bbs/post/post.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/bbs/post/post.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./post.vue?vue&type=template&id=bc37e6ac&\"\nvar renderjs\nimport script from \"./post.vue?vue&type=script&lang=js&\"\nexport * from \"./post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/bbs/post/post.vue\"\nexport default component.exports","export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post.vue?vue&type=template&id=bc37e6ac&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 输入框 -->\r\n\t\t<view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-input\">\r\n\t\t\t\t\t<textarea v-model=\"content\" placeholder=\"想说你就多说点...\"></textarea>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"zhuige-post-plug\">\r\n\t\t\t\t\t<view @click=\"clickType('image')\" :class=\"{active:type=='image'}\">\r\n\t\t\t\t\t\t<uni-icons type=\"image-filled\" color=\"#333333\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t\t<!-- <image mode=\"aspectFill\" src=\"/static/logo.png\"></image> -->\r\n\t\t\t\t\t\t<text>图文</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view @click=\"clickType('video')\" :class=\"{active:type=='video'}\">\r\n\t\t\t\t\t\t<uni-icons type=\"videocam-filled\" color=\"#333333\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t\t<!-- <image mode=\"aspectFill\" src=\"/static/logo.png\"></image> -->\r\n\t\t\t\t\t\t<text>视频</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 图片列表 -->\r\n\t\t<view v-if=\"type=='image'\" class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-upload-set\">\r\n\t\t\t\t<view v-if=\"images.length<9\" @click=\"clickAddImage\">\r\n\t\t\t\t\t<uni-icons type=\"plusempty\" color=\"#777777\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t<view>图片</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 上传后，增加 class=\"loaded\" view替换为image，icon type替换为clear -->\r\n\t\t\t\t<view class=\"loaded\" v-for=\"(image, index) in images\" :key=\"index\">\r\n\t\t\t\t\t<uni-icons type=\"clear\" color=\"#FD6531\" size=\"24\" @click=\"clickDelImage(index)\"></uni-icons>\r\n\t\t\t\t\t<image mode=\"aspectFill\" :src=\"image.image.url\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 视频 -->\r\n\t\t<view v-else-if=\"type=='video'\" class=\"zhuige-post-video-box\">\r\n\t\t\t<video v-if=\"video\" :src=\"video.url\"></video>\r\n\t\t\t<view v-else @click=\"clickAddVideo\" class=\"zhuige-upload-set\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<uni-icons type=\"plusempty\" color=\"#777777\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t<view>视频</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"zhuige-upload-set\">\r\n\t\t\t\t<view class=\"loaded\" v-if=\"video_cover\">\r\n\t\t\t\t\t<uni-icons type=\"clear\" color=\"#FD6531\" size=\"24\" @click=\"clickDelVideoPoster\"></uni-icons>\r\n\t\t\t\t\t<image mode=\"aspectFill\" :src=\"video_cover.url\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else @click=\"clickAddVideoPoster\">\r\n\t\t\t\t\t<uni-icons type=\"plusempty\" color=\"#777777\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t<view>封面</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 选择行 -->\r\n\t\t<view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-line\">\r\n\t\t\t\t\t<view>选择圈子：</view>\r\n\t\t\t\t\t<view @click=\"openLink('/pages/bbs/forum-select/forum-select')\">\r\n\t\t\t\t\t\t<view>{{forum?forum.name:'请选择圈子'}}</view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#BBBBBB\" size=\"16\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 选择行 -->\r\n\t\t<view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-line\">\r\n\t\t\t\t\t<view>你的位置：</view>\r\n\t\t\t\t\t<view @click=\"clickAddress\">\r\n\t\t\t\t\t\t<view>{{marker?marker:'请选择位置'}}</view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#BBBBBB\" size=\"16\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 选择行 -->\r\n\t\t<view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-line\">\r\n\t\t\t\t\t<view>动态话题：</view>\r\n\t\t\t\t\t<view @click=\"clickSubject\">\r\n\t\t\t\t\t\t<view>已选{{subjects.length}}个话题</view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#BBBBBB\" size=\"16\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 选择行 -->\r\n\t\t<!-- <view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-line\">\r\n\t\t\t\t\t<view>@ 好友：</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view>已选0个好友</view>\r\n\t\t\t\t\t\t<uni-icons type=\"right\" color=\"#BBBBBB\" size=\"16\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\r\n\t\t<!-- 选择行 -->\r\n\t\t<!-- <view class=\"zhuige-post-box\">\r\n\t\t\t<view class=\"zhuige-block\">\r\n\t\t\t\t<view class=\"zhuige-post-line\">\r\n\t\t\t\t\t<view>积分数：</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"如：88，填写即开启积分阅读全文\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\r\n\t\t<!-- 底部大按钮 -->\r\n\t\t<view @click=\"clickCreate\" class=\"zhuige-base-button\">\r\n\t\t\t<view>确定</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Util from '@/utils/util';\r\n\timport Alert from '@/utils/alert';\r\n\timport Api from '@/utils/api';\r\n\timport Rest from '@/utils/rest';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 'image',\r\n\r\n\t\t\t\tcontent: '',\r\n\r\n\t\t\t\t//图片\r\n\t\t\t\timages: [],\r\n\r\n\t\t\t\t//视频\r\n\t\t\t\tvideo: undefined,\r\n\t\t\t\tvideo_cover: undefined,\r\n\r\n\t\t\t\tforum: undefined,\r\n\r\n\t\t\t\t// 选择的话题\r\n\t\t\t\tsubjects: [],\r\n\r\n\t\t\t\tlongitude: '',\r\n\t\t\t\tlatitude: '',\r\n\t\t\t\tmarker: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tUtil.addShareScore(options.source);\r\n\r\n\t\t\tif (options.type) {\r\n\t\t\t\tthis.type = options.type;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.subject_name) {\r\n\t\t\t\tthis.subjects.push(options.subject_name);\r\n\t\t\t}\r\n\r\n\t\t\tuni.$on('subjectChange', this.onSubjectChange);\r\n\t\t\tuni.$on('forumChange', this.onForumChange);\r\n\t\t},\r\n\r\n\t\tonUnload() {\r\n\t\t\tuni.$off('forumChange', this.onForumChange);\r\n\t\t\tuni.$off('subjectChange', this.onSubjectChange);\r\n\t\t},\r\n\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '发布-' + getApp().globalData.appName,\r\n\t\t\t\tpath: Util.addShareSource('pages/bbs/post/post?n=n')\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tonShareTimeline() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '发布-' + getApp().globalData.appName,\r\n\t\t\t};\r\n\t\t},\r\n\t\t// #endif\r\n\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 点击打开链接\r\n\t\t\t */\r\n\t\t\topenLink(link) {\r\n\t\t\t\tUtil.openLink(link);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 切换类型\r\n\t\t\t */\r\n\t\t\tclickType(type) {\r\n\t\t\t\tthis.type = type;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 添加图片\r\n\t\t\t */\r\n\t\t\tclickAddImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 9 - this.images.length,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.tempFilePaths.length; i++) {\r\n\t\t\t\t\t\t\tlet path = res.tempFilePaths[i];\r\n\t\t\t\t\t\t\tRest.upload(Api.URL('other', 'upload2'), path).then(oo => {\r\n\t\t\t\t\t\t\t\tif (oo.code != 0) {\r\n\t\t\t\t\t\t\t\t\tAlert.error(oo.msg);\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.images.push({\r\n\t\t\t\t\t\t\t\t\timage: oo.data\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\t\t\tAlert.error(err);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 删除图片\r\n\t\t\t */\r\n\t\t\tclickDelImage(index) {\r\n\t\t\t\tif (index >= 0 && index < this.images.length) {\r\n\t\t\t\t\tthis.images.splice(index, 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 添加视频\r\n\t\t\t */\r\n\t\t\tclickAddVideo() {\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tsourceType: ['camera', 'album'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet path = res.tempFilePath;\r\n\t\t\t\t\t\tRest.upload(Api.URL('other', 'uploadv'), path).then(oo => {\r\n\t\t\t\t\t\t\tif (oo.code == 0) {\r\n\t\t\t\t\t\t\t\tthis.video = oo.data;\r\n\t\t\t\t\t\t\t\tthis.video.width = res.width;\r\n\t\t\t\t\t\t\t\tthis.video.height = res.height;\r\n\t\t\t\t\t\t\t\tconsole.log(this.video);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tAlert.toast(oo.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\t\tAlert.error(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 添加视频封面\r\n\t\t\t */\r\n\t\t\tclickAddVideoPoster() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet path = res.tempFilePaths[0];\r\n\t\t\t\t\t\tRest.upload(Api.URL('other', 'upload2'), path).then(oo => {\r\n\t\t\t\t\t\t\tif (oo.code != 0) {\r\n\t\t\t\t\t\t\t\tAlert.error(oo.msg);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.video_cover = oo.data;\r\n\t\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\t\tAlert.error(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 删除视频封面\r\n\t\t\t */\r\n\t\t\tclickDelVideoPoster() {\r\n\t\t\t\tthis.video_cover = false;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选择话题结果\r\n\t\t\t */\r\n\t\t\tonSubjectChange(data) {\r\n\t\t\t\tthis.subjects = data;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选择板块\r\n\t\t\t */\r\n\t\t\tonForumChange(data) {\r\n\t\t\t\tthis.forum = data;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选择位置\r\n\t\t\t */\r\n\t\t\tclickAddress() {\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.marker = res.name;\r\n\t\t\t\t\t\tthis.address = res.address;\r\n\t\t\t\t\t\tthis.longitude = res.longitude;\r\n\t\t\t\t\t\tthis.latitude = res.latitude;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif (this.latitude) {\r\n\t\t\t\t\tparam.latitude = this.latitude;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.longitude) {\r\n\t\t\t\t\tparam.longitude = this.longitude;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\tuni.chooseLocation(param);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 选择话题\r\n\t\t\t */\r\n\t\t\tclickSubject() {\r\n\t\t\t\tUtil.openLink('/pages/bbs/subject/subject?subjects=' + this.subjects.join('-0-'));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 发帖\r\n\t\t\t */\r\n\t\t\tclickCreate() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\ttype: this.type,\r\n\t\t\t\t\tcontent: this.content,\r\n\t\t\t\t\tlatitude: this.latitude,\r\n\t\t\t\t\tlongitude: this.longitude,\r\n\t\t\t\t\tmarker: this.marker,\r\n\t\t\t\t\taddress: this.address,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (!this.forum) {\r\n\t\t\t\t\tAlert.error('请选择圈子');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tparams.forum_id = this.forum.id;\r\n\r\n\t\t\t\tif (this.type == 'image') {\r\n\t\t\t\t\tparams.images = JSON.stringify(this.images);\r\n\t\t\t\t} else if (this.type == 'video') {\r\n\t\t\t\t\tif (!this.video) {\r\n\t\t\t\t\t\tAlert.error('请上传视频');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparams.video = JSON.stringify(this.video);\r\n\t\t\t\t\tparams.video_cover = JSON.stringify(this.video_cover);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparams.subjects = this.subjects.join('-0-');\r\n\t\t\t\t// params.at_list = this.at_list.join(',');\r\n\r\n\t\t\t\tRest.post(Api.URL('bbs', 'topic_create'), params).then(res => {\r\n\t\t\t\t\tif (res.code != 0) {\r\n\t\t\t\t\t\tAlert.error(res.msg);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (res.data.status == 'pending') {\r\n\t\t\t\t\t\tAlert.toast('审核后，他人可见');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tUtil.navigateBack();\r\n\t\t\t\t\t\tUtil.openLink('/pages/bbs/detail/detail?topic_id=' + res.data.post_id);\r\n\t\t\t\t\t}, 1500)\r\n\t\t\t\t}, err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\tposition: fixed;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\toverflow-y: scroll;\r\n\t}\r\n\r\n\t.zhuige-post-box {\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.zhuige-post-video-box {\r\n\t\tpadding: 0 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.zhuige-post-video-box video {\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.content .zhuige-post-box:nth-last-child(2) {\r\n\t\tmargin-bottom: 180rpx;\r\n\t}\r\n\r\n\t.zhuige-post-line {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tline-height: 2.2em;\r\n\t\theight: 2.2em;\r\n\t}\r\n\r\n\t.zhuige-post-line>view:nth-child(1) {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 400;\r\n\t\twidth: 156rpx;\r\n\t}\r\n\r\n\t.zhuige-post-line>view:nth-child(2) {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmax-width: 510rpx;\r\n\t}\r\n\r\n\t.zhuige-post-line view:nth-child(2) view {\r\n\t\tmargin-right: 12rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 400;\r\n\t\theight: 1.6rem;\r\n\t\tline-height: 1.6rem;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.zhuige-post-line view:nth-child(2) input {\r\n\t\twidth: 450rpx;\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\t.zhuige-upload-set {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.zhuige-upload-set>view {\r\n\t\theight: 154rpx;\r\n\t\twidth: 154rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t\tmargin: 0 20rpx 20rpx 0;\r\n\t\ttext-align: center;\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\r\n\t.zhuige-upload-set>view view {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #777777;\r\n\t\theight: 1em;\r\n\t\tline-height: 1em;\r\n\t\tmargin-top: -28rpx;\r\n\t}\r\n\r\n\t.zhuige-upload-set view.loaded image {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\r\n\t.zhuige-upload-set>view.loaded uni-icons {\r\n\t\tposition: absolute;\r\n\t\tz-index: 3;\r\n\t\tright: -20rpx;\r\n\t\ttop: -46rpx;\r\n\t}\r\n\r\n\t.zhuige-post-input textarea {\r\n\t\theight: 240rpx;\r\n\t\tpadding: 20rpx 0;\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: normal;\r\n\t}\r\n\r\n\t.zhuige-post-plug {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.zhuige-post-plug view {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: nowrap;\r\n\t\talign-items: center;\r\n\t\topacity: 0.5;\r\n\t\twidth: 16.66%;\r\n\t\tline-height: 1.8em;\r\n\t}\r\n\r\n\t.zhuige-post-plug view.active {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.zhuige-post-plug view image {\r\n\t\theight: 28rpx;\r\n\t\twidth: 28rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.zhuige-post-plug view text {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 300;\r\n\t\tmargin-left: 8rpx;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n</style>\n","import mod from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./post.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663609972381\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}