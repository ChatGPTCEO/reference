{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?fb06","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?def1","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?752c","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?91d0","uni-app:///pages/chat/width.vue","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?2a49","webpack:///C:/Users/will/Documents/GitHub/reference/单聊 群聊 发文字 发表情 发语音 发图片colorUI-IM示例/pages/chat/width.vue?1298"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/chat/width.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/chat/width.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./width.vue?vue&type=template&id=0d1a1e08&\"\nvar renderjs\nimport script from \"./width.vue?vue&type=script&lang=js&\"\nexport * from \"./width.vue?vue&type=script&lang=js&\"\nimport style0 from \"./width.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/chat/width.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./width.vue?vue&type=template&id=0d1a1e08&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./width.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./width.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"right-window-chat-width\" v-if=\"option.to&&option.to.id\">\n\t\t\n\t\t<view  style=\"\" class=\"right-window-chat-width\" >\n\t\t\t<cu-custom-width  bgColor=\"bg-gradual-pink\" >\n\t\t\t\t<block slot=\"content\">{{title}}</block> \n\t\t\t\t<block slot=\"right\">\n\t\t\t\t\n\t\t\t\t</block>\n\t\t\t</cu-custom-width>\n\t\t\t\n\t\t\t<!-- 聊天记录-->\n\t\t\t\t<view class=\"\">\n\t\t\t\t\t<view  class=\"text-center\" @tap=\"pullRefresh()\">点我加载更多</view>\n\t\t\t\t\t<chat-list :current_messages=\"current_messages\"  :is_pop_up=\"modalName=='bottomModal'\"></chat-list>\n\t\t\t\t</view>\n\t\t\t<!-- 聊天记录-->\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t<view class=\"\" style=\"display: none;\">\n\t\t\t\t{{current_to.id}}\n\t\t\t</view>\n\t\t\t<!-- 聊天框 -->\n\t\t\t\n\t\t\t<view ref=\"input\" class=\"cu-bar foot input right-window-chat-width too\" style=\"z-index: 9999;\" @tap.stop=\"\" :style=\"[{bottom:InputBottom*2+'rpx'}]\">\n\t\t\t\t<view class=\"action\" @tap=\"recOpen()\" v-if=\"!rec_open\">\n\t\t\t\t\t<text class=\"cuIcon-sound text-grey\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action text-black\"  @tap=\"recCancel()\" v-if=\"rec_open\">\n\t\t\t\t\t 取消\n\t\t\t\t</view>\n\t\t\t\t<input @tap=\"recStart()\" v-if=\"rec_open\" class=\"solid-bottom\" disabled=\"true\" :placeholder=\"audio_plachodler\" placeholder-style=\"text-align:center\">\n\t\t\t\t<textarea  auto-height=\"true\" :show-confirm-bar=\"false\" style=\"\"  v-if=\"!rec_open\"  class=\"text-black solid-bottom\" :adjust-position=\"false\" :focus=\"focus\" maxlength=\"300\" cursor-spacing=\"10\"\n\t\t\t\t @focus=\"InputFocus\" @blur=\"InputBlur\" v-model=\"content\"   placeholder-style=\"height: 64upx;line-height: 64upx\" placeholder=\"请输入内容\">\n\t\t\t\t\n\t\t\t\t </textarea>\n\t\t\t\t\n\t\t\t\t<view class=\"action\" @tap=\"showModal\" data-target=\"bottomModal\" data-display=\"emoji\" v-if=\"!modalName\">\n\t\t\t\t\t<text class=\"cuIcon-emoji text-grey\"></text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action\"  @tap=\"edit()\" v-if=\"modalName=='bottomModal'\">\n\t\t\t\t\t<text class=\"cuIcon-form text-grey\"></text>\n\t\t\t\t</view>\n\t\t\t\t<!-- <view class=\"action\" @tap=\"imChooseImage()\" v-if=\"!send_button\">\n\t\t\t\t\t<text class=\"cuIcon-camera text-grey\"></text>\n\t\t\t\t</view> -->\n\t\t\t\t<view class=\"action\"  @tap=\"showModal\" data-target=\"bottomModal\" data-display=\"add\" v-if=\"!send_button\">\n\t\t\t\t\t<text class=\"cuIcon-add text-grey\"></text>\n\t\t\t\t</view>\t\n\t\t\t\t\n\t\t\t\t<button class=\"cu-btn bg-green shadow\" @tap=\"send_message()\" v-if=\"send_button\">发送</button>\n\t\t\t</view>\n\t\t\t<!-- 聊天框 -->\n\t\t\t\n\t\t\t\n\t\t\t<view ref=\"emoji\" class=\"cu-bar foot\" style=\"z-index: 9999;\" :style=\"[{display:modalName=='bottomModal'?'block':'none'}]\">\n\t\t\t\t<view class=\"\" v-show=\"displayName=='emoji'\">\n\t\t\t\t\t<chat-emoji ></chat-emoji>\n\t\t\t\t</view>\n\t\t\t\t<view v-show=\"displayName=='add'\" class=\"\" style=\"height: 520rpx;overflow-y: auto;\">\n\t\t\t\t\t<view class=\"flex flex-wrap\" style=\"min-height: 520rpx;background-color: #f1f1f1;\">\n\t\t\t\t\t\t<view class=\"basis-xs  margin-xs padding-sm\" @tap=\"imChooseImage(1)\">\n\t\t\t\t\t\t\t<view class=\"cu-avatar xl\" style=\"\">\n\t\t\t\t\t\t\t\t<view class=\"cuIcon-camera\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- #ifdef H5 -->\n\t\t\t\t\t\t<view class=\"basis-xs  margin-xs padding-sm\" @tap=\"imChooseFile(1)\">\n\t\t\t\t\t\t\t<view class=\"cu-avatar xl\" style=\"\">\n\t\t\t\t\t\t\t\t<view class=\"cuIcon-file\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t<view class=\"basis-xs  margin-xs padding-sm\" @tap=\"imChooseVideo(1)\">\n\t\t\t\t\t\t\t<view class=\"cu-avatar xl\" style=\"\">\n\t\t\t\t\t\t\t\t<view class=\"cuIcon-video\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"\" style=\"position: fixed;left: 0;top: 0;width: 100vw;height: 100vh;z-index: 1;\" @tap=\"hide_emoji_typewriting()\" v-if=\"InputBottom>0\" >\n\t\t\t\t\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 聊天框 -->\n\t\t<view class=\"\">\n\t\t\t\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport app from '@/mixins/app.js'\n\timport im from '@/mixins/im.js'\n\timport recorder from '@/mixins/recorder.js'\n\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tInputBottom: 0,\n\t\t\t\tgo:0,//todo,\n\t\t\t\ttitle:'聊天',\t\n\t\t\t\tfocus:false\n\t\t\t};\n\t\t},\n\t\tcomputed:{\n\t\t\tsend_button(){\n\t\t\t\treturn !!this.content\n\t\t\t},\n\t\t\tplaceholder(){\n\t\t\t\tif(!this.send_button){\n\t\t\t\t\treturn '其输入内容'\n\t\t\t\t}\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\t\tmixins:[app,im,recorder],\n\t\tmethods: {\n\t\t\tpullRefresh(){\n\t\t\t\tuni.showLoading({\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\tthis.imPullRefresh()\n\t\t\t\tuni.hideLoading()\n\t\t\t},\n\t\t\tasync send_message(){\n\t\t\t\tawait this.im_send(1)\n\t\t\t\tthis.InputBottom = 0\n\t\t\t\tthis.modalName = null\n\t\t\t\tthis.toEmit('im-send-after-event')\n\t\t\t\t\n\t\t\t},\n\t\t\thide_emoji_typewriting(e){//点击屏幕 隐藏输入法等\n\t\t\t\tconsole.log(132132)\n\t\t\t\tthis.InputBottom = 0\n\t\t\t\tif(this.modalName=='bottomModal'){//表情\n\t\t\t\t\tthis.modalName = null\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tedit(){\n\t\t\t\tthis.focus =false\n\t\t\t\tthis.modalName = null\n\t\t\t\tthis.InputBottom = 0\n\t\t\t\tthis.$nextTick(()=>{\n\t\t\t\t\tthis.focus =true\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync hideModal(e) {//重写app 里的方法\n\t\t\t\tif(this.modalName=='viewModalGroupAdd'){//聊天页面全屏抽屉关闭后展示左边抽屉\n\t\t\t\t\t//此时选择完了要加群的用户，这里加个群\n\t\t\t\t\tif(this.im.group_checked_user_ids.length>0){\n\t\t\t\t\t\tawait this.imJoinGroup()\n\t\t\t\t\t\tconsole.log(212332132132)\n\t\t\t\t\t}\n\t\t\t\t\tthis.modalName='DrawerModalL'\n\t\t\t\t\tconsole.log(9999999)\n\t\t\t\t}else if(this.modalName=='bottomModal'){\n\t\t\t\t\tthis.modalName = null\n\t\t\t\t\tconsole.log(21323)\n\t\t\t\t}else{\n\t\t\t\t\tthis.modalName = null\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowModal(e){\n\t\t\t\tif(e.currentTarget.dataset.target=='bottomModal'){\n\t\t\t\t\tthis.InputBottom = 0\n\t\t\t\t\t this.modalName = null\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.InputBottom = 260\n\t\t\t\t\t\tthis.modalName = 'bottomModal'\n\t\t\t\t\t\tthis.displayName = e.currentTarget.dataset.display\n\t\t\t\t\t},200)\n\t\t\t\t}else{\n\t\t\t\t\tthis.modalName = e.currentTarget.dataset.target\n\t\t\t\t}\n\t\t\t},\n\t\t\n\t\t\tInputFocus(e) {\n\t\t\t\tconsole.log(e.detail.height,'input')\n\t\t\t\t// alert(e.detail.height)\n\t\t\t\t\n\t\t\t\tthis.InputBottom = e.detail.height\n\t\t\t\tif(!this.InputBottom){\n\t\t\t\t\tthis.InputBottom = 1\n\t\t\t\t}else{\n\t\t\t\t\tthis.InputBottom += 10\n\t\t\t\t}\n\t\t\t\tthis.modalName = null\n\t\t\t\treturn \n\t\t\t\tif(this.InputBottom){\n\t\t\t\t\tthis.modalName = null\n\t\t\t\t\tthis.InputBottom = 0\n\t\t\t\t}else{\n\t\t\t\t\tthis.InputBottom = e.detail.height\n\t\t\t\t}\n\t\t\t\t//小程序 页面整体高度加了 键盘的高度，其他的是键盘高度将页面高度压缩了\n\t\t\t\t//#ifdef MP-WEIXIN\n\t\t\t\tthis.InputBottom = 260\n\t\t\t\t//#endif\n\t\t\t\t\n\t\t\t\t// this.InputBottom = this.InputBottom>150?(e.detail.height-300):e.detail.height\n\t\t\t\t// this.modalName = null //输入法吊起所有隐藏\n\t\t\t},\n\t\t\tInputBlur(e) {\n\t\t\t\t\n\t\t\t\tthis.InputBottom = 0\n\t\t\t\treturn \n\t\t\t\t//#ifdef MP-WEIXIN\n\t\t\t\tthis.InputBottom = 0\n\t\t\t\t//#endif\n\t\t\t\t// this.InputBottom = 0\n\t\t\t},\n\t\t\t\n\t\t\tasync add_user_to_currnt_group(){\n\t\t\t\tthis.init_grouping_user_ids_and_group_checked_user_ids()\n\t\t\t\tthis.modalName = 'DrawerModalL'\n\t\t\t},\n\t\t\tmessageChange(e){\n\t\t\t\tvar option = {}\n\t\t\t\toption.to = {id:e.to_id}\n\t\t\t\toption.type = e.type\n\t\t\t\tif(this.modalName=='DrawerModalL'){//左侧抽屉，只能通过点击右侧关掉\n\t\t\t\t}else{\n\t\t\t\t\tthis.hideModal()\n\t\t\t\t}\n\t\t\t\tconsole.log('message-change')\n\t\t\t\tuni.setStorageSync('option',JSON.stringify(option))//保存当前的聊天窗口\n\t\t\t\tthis.$store.dispatch('app/option',option)\n\t\t\t},\n\t\t\tdrawerWindow(e){\n\t\t\t\tthis.modalName = 'viewModalGroupAdd'\n\t\t\t},\n\t\t\tchat_content(data){//表情\n\t\t\t\tthis.content+=data\n\t\t\t},\n\t\t\tchat_modal(data){\n\t\t\t\tthis.modalName = data\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tconsole.log('chat with mounted!!! ',this._isWidescreen)\n\t\t\tif(this.option.to&&this.option.to.id){\n\t\t\t\tuni.setStorageSync('option',JSON.stringify(this.option))\n\t\t\t}else{\n\t\t\t\tvar option =  JSON.parse(uni.getStorageSync('option')||'{}')//避免刷新页面后没有值是组件需要，非组件不需要\n\t\t\t\tif(option.to&&option.to.id){\n\t\t\t\t\t// .option = option\n\t\t\t\t}else{\n\t\t\t\t\toption = {//一个默认的值，上线可替换掉\n\t\t\t\t\t\tto:{\n\t\t\t\t\t\t\tid:1\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype:'group'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// this.option = option\n\t\t\t\tthis.$store.dispatch('app/option',option)\n\t\t\t\tuni.setStorageSync('option',JSON.stringify(option))\n\t\t\t}\n\t\t\tthis.connectWbsocket()\n\t\t\tuni.$on('message-change', this.messageChange)//切换了聊天\n\t\t\tuni.$on('display-drawer-window', this.drawerWindow)//显示抽屉\n\t\t\tuni.$on('chat-content',this.chat_content)//表情添加到content\n\t\t\tuni.$on('im-width-send-event',this.imSendEvent)\n\t\t\tuni.$on('im-send-after-event',this.imSendAfterEvent)\n\t\t\tconsole.log('chat with mounted!!!',this.option)\n\t\t\t\n\t\t\t\n\t\t},\n\t\tdestroyed() {\n\t\t\tuni.$off('message-change', this.messageChange)\n\t\t\tuni.$off('display-drawer-window', this.drawerWindow)\n\t\t\tuni.$off('chat-content', this.chat_content)\n\t\t\tuni.$off('im-width-send-event',this.imSendEvent)\n\t\t\tuni.$off('im-send-after-event',this.imSendAfterEvent)\n\t\t},\n\t\tonUnload() {\n\t\t\t// clearInterval(this.timer)\n\t\t\t// uni.closeSocket();\n\t\t\tuni.$off('message-change', this.messageChange)\n\t\t\tuni.$off('display-drawer-window', this.drawerWindow)\n\t\t\tuni.$off('chat-content', this.chat_content)\n\t\t\tuni.$off('iim-width-send-event', this.imSendEvent)\t\t\t\n\t\t\tuni.$off('im-send-after-event',this.imSendAfterEvent)\n\t\t\t// uni.$off('chat-modal', this.chat_modal)\n\t\t\t\n\t\t},\n\n\t}\n</script>\n\n<style>\n\tpage{\n\t  padding-bottom: 100rpx;\n\t}\n\n\n</style>\n","import mod from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./width.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./width.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1667487663338\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}